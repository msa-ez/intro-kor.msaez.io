<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Orchestration Saga with Axon Framework - msaez</title><meta name="gridsome:hash" content="2b6658d43a0791531b145da1cde84d22c8d46c3e"><meta data-vue-meta="ssr" charset="utf-8"><meta data-vue-meta="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-meta="ssr" key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-meta="ssr" key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/templates-language/springboot-java-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/setup-on-prem/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/toppings/test-contract/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/toppings/test-messaging/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/toppings/test-microcks/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/toppings/test-unit/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/si-gpt/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/templates-language/python-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/on-prem-inst/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-hpa/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-ingress/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-istio/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-pvc/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-basic-objects/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/model-driven/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/marketplace/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/k8s-modeling/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/toppings/k8s-kubernetes/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/started/key-features/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/infrastructure-modeling/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/understanding-jpa-based-single-microservice/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/templates-language/go-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/google-drive-examples/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/template-editor-custom-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/understanding-template-structure/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/event-storming-tool/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/unit-test/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/token-based-auth/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/started/event-storming-learning/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/template-editor/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/template-structure/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/template-syntax/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/info/partnership/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/info/pricing/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/cloud-ide-tool/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/development-practice/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/toppings/cicd-git-action/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/tutorial/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/started/domain-driven/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/chat-gpt/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/toppings/cicd-argo/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/example-scenario/online-lecture/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/attending-lectures/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/pub-sub/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/pubsub-deadline/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/pubsub-idempotency/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/contact/question/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/oauth2with-keycloak/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/ops-docker/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/orchestration-saga/"><meta data-vue-meta="ssr" name="description" content="undefined"><meta data-vue-meta="ssr" key="og:title" name="og:title" content="Orchestration Saga with Axon Framework"><meta data-vue-meta="ssr" key="twitter:title" name="twitter:title" content="Orchestration Saga with Axon Framework"><meta data-vue-meta="ssr" key="og:description" name="og:description" content="undefined"><meta data-vue-meta="ssr" key="twitter:description" name="twitter:description" content="undefined"><meta data-vue-meta="ssr" key="og:type" name="og:type" content="website"><meta data-vue-meta="ssr" key="twitter:card" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" key="og:image" name="og:image" content="undefined/logo.jpg"><meta data-vue-meta="ssr" key="twitter:image" name="twitter:image" content="undefined/logo.jpg"><link data-vue-meta="ssr" rel="icon" href="data:,"><link data-vue-meta="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.2921b393c59c1de81f95c629be62cea9.png"><link data-vue-meta="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.2921b393c59c1de81f95c629be62cea9.png"><link data-vue-meta="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.2921b393c59c1de81f95c629be62cea9.png"><link data-vue-meta="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.2921b393c59c1de81f95c629be62cea9.png"><link data-vue-meta="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.2921b393c59c1de81f95c629be62cea9.png"><link rel="preload" href="/assets/css/0.styles.ea618bb5.css" as="style"><link rel="preload" href="/assets/js/app.3452cdad.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-markdown-page-vue.300acc31.js" as="script"><link rel="prefetch" href="/assets/js/page--src-pages-404-vue.bc61b8cc.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.5535bee0.js"><link rel="prefetch" href="/assets/js/search.3dcd64ad.js"><link rel="stylesheet" href="/assets/css/0.styles.ea618bb5.css"><noscript data-vue-meta="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="antialiased text-ui-typo bg-ui-background"><div class="flex flex-col justify-start min-h-screen"><header class="sticky top-0 z-10 w-full border-b bg-ui-background border-ui-border"><div class="py-2 border-t-2 border-ui-primary"><div class="container"><div class="flex items-center justify-between -mx-2 sm:-mx-4 is-not-mobile"><div><a href="/" title="Home" class="flex items-center text-ui-primary active"><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 120 64' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-fc641bf75e53d9efc3486e04cdc3cd6a'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-fc641bf75e53d9efc3486e04cdc3cd6a)' width='120' height='64' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAiCAYAAADvVd%2bPAAAACXBIWXMAAC4jAAAuIwF4pT92AAATw0lEQVRo3sVZCVSTZ7pmc6y22vXedqa3iz2dTje7TduZjrZWZQcBIayKC9W6dTrVUVHrUlxwAdmSEAIEJOwoCoosIQkEQVZFFitatYsdtVNHlB2S/3vm/f4kiO3M7b3n3HvMOc95v//Pv%2bR5vnf7vtjY0Kcnz0nE2PFPYGuBnQX2t3MdHURL523uwUcjrbLRyKrtCPYW2NE52wpZtS2N6ftqmwrzNebrZXfGP/tYSIrEevIcOSl789jJjoj%2b4o/pyXWyoXsm/Zjr%2bRzyX39nS1qts6uSLfBJ7g/xUg4GeycPBhECCQEEf4KE4EeY65U86EPW21s54OWlHPD0Th7woGN3Ou82V9nvNitZcEySt4Xppbol5bLqD4ngb4nI/f/d76n4mThV9hVS8dgszqgoZG/n/Q8IEjki%2bBTZN0kgD7pnGY0jaKwilNO4jb6/2p3r2i/k/0GITS/udlMDAZmAnxXquyGxQDzOAHytOHAHfgQPQorqMlpUDdAp6kACDNAP/57QQLOcR3Y3EV5KmEXj35J96Jf4cIHGWk7wEcLrBGfCQiK1qSfXMZHGJWRbyAu%2bJtvTl%2b8E42EXoNgVOOZO8AArdhPPDR50Rk%2b%2bK0z570GdoRp2VMI4N7nPSDNKGDTS7IrWh449Fb1GZ2mPyVnaa3KV9Zi8kvpMdN5E3mKi6wlklQMiPJOHhAPyU6Yqqc5IHiBUyg3QK2phSG5AnaoZJ9NOoTa1CdXKkyABhonUFbJNhINcHMISghPhd4TJd0SovsuFo1mRK/oLnIGjbkTMzWyJnOmIGwYPuaKvwAUkCCMxhJ48Z%2bOtnNnGmxl/Ikwz3s51MtF3QneuCzPm/YmVqyPhrATzSe5jRIgRebKDZPuZo2yAheSArS4BW3sc7JOjYHPTwZxl/XQ9v2ZQvIfIszl07Ev3HJQ1MJ1Uz2j2Gc06IyICETWRNZI1luzXmI5Fa4TyeD2qkupQQ%2bJwUU6qWkikFvEcF4fwN8JZwixLCNiJAhCBv3LSRGKYQIQcjdxykrfUfzL1ZU8TutXTGLk54yLcyv6QDR92Z2jYyFC7Gv15s0iY2exWnguG86azU1l/YR5KEycCkUzyILyS%2bjEneQQJBhPi0ouxet1mfLp6HTZs24PUoiZsLgNc5AMgTwCJABIANPsIVt5GiawGldIq7v6cCIg0F4GVJ%2bihkRpYx7Eudk5zkdUdaGalsTqBvjNxYbhAFgiVMgO08ho0pLfS/dWuFgHsrQJ4cTcmgiYiz0mCyDOaeTZcvwt/r5PBVLMWPdkf8vMYLvZBuyYFAYHBWLXqz/jhRDz6cmeiO9eZDeTNwKWcUBaQfIvNUQ5xAURSLolDUBj6MT/AG/TKu/ArWxvsjpbikyLAVd5H15sFcE8expKkG0SyipMeKwCNq6BJqEarth2rPlkFD08PFOUVozHnNEpjtaJAY8XiImjM91MOqXrRUhnsLCHg%2bHovke6xznCuExGagesnEuDuE4RJjzyBrdu%2bgFC7Ef9IfR1C4y7McrlDZFfEZqBqCf6h/gC9eY64keuJj1K%2bhZvSRGT64SrrxUoit313jOUeWzzz7LNwmjUDL0x5UjwXGuSHXVXA7IReUTAfEsCVPGZ10lVQBRDJV1jIa%2bTVOBZVgXPlX%2bHPn/559Hc8%2bcxvcKryDCrizAKJ11pE4wLw3EH2GuFRiwfYWpPgE4QbA5QDeCzfzPoQKPdHVtLuOzNlPxGdlSkw5b2H64YYPPnsC6Pfubh5AvVb0Z3xHnmRCwbyZmKt6gxclAy%2bKf1wJFIRWsBf4iteT29F/lE9jnwDxJVdw05ZLhQVf4Ovyog5Sh42g6IALiTAFsXXMEi1KLcIwMlw169W1kN/rArjxo8TBR3nME589qGMw6hVNaEsXjeWPPcAk4HuIVHaR8ugNRFa6n4HDwOyppuZJEBFENITIsSHTrhvvGg3b1wH1C1Ha/FejJv48BjlX8Dfa2LRlz0d3XmuGMmbjn1p5XBSUjlL7oOTtBfhFOMrV5lny87eHlOnvoaNkYlILP8esU2Ak0KAp6JPJE9Jc9QD9iV23RFgzOyf112Cf4C/%2bXl2dnBwcLB4YyROF3TgeEzlzwQ4kdLIx8ctJdCWN0e8D7Cz5IFSXgksAjBUBEMVv118qIODvWife/E1oDMFxSlb6dhuTBz/CjWHYiAUueFGtrPoJQcOHMBsEoBKoZgAfVQMas0FPP9fj9wV///x0H34ZMUyJNf0wkM5TLHfL4pgzQHUBKHKIgAnw2e2Lq0ZxflHYWNrfkZgUCDefvttcRwcHIyzZRdQEq0ZzRcWEYy8KpCVWwSwFz2Bd3yWMJDz0sez/83MGYAmBMqYL8SHjhvnIIKPa8ryoZLvE8evvvoKHn74IXEcG/k5oF2AHzNnir1AqXoPL4UUz%2bak5p7Yh9BsBkVxOwIlc/HU4w/dJcSKpYuxk8LEUdon5gAuAJVBZMubxRxQLq0WZ78kSoPz1Zfg5Owo3jd%2b/Hh0tXfBx9tHPH7jrddxpqIDZTE/DYEqI%2b8ZyK6zxL%2bDRQBHqwCrLaWQC8BQOR/yqK3iQ5944nF4e3mJ48VhS7A%2bPFwch4dvwPvvvy%2bOg4KCKQ9sxI2M6RjO/wDNWavhqRwZrQLuigESANh1ApC1ANKKv2Pb3kQ89og5lB59cAIUZd/QrFPiVPaL5CXKPhyWnYRWqhfj/3hsJZqyWpGpyhoVzt3DHSPdRqxYtkI8nvTgJOiLDNDJa2n29RYBxEpg4v0BlcBA0QPGlEB7SzPkIxyxhgAXIBQJe7eY3fSxR3HkSLEYaw8%2bOBlTpkwRzxcfKcTHS5eK4xen/h7dtdG4nTWd%2boKZuJizAJLkHnhRLeezv/wgIM8oQkigBDsTCxFbfgPlp67jtVdfFu9/8P5xkB/rwpxURgL0UTgMYUFSN0qpB9BYYr90vxbnDBfw1ttvjgrgQMlvypRn8dTTT42eS5Wr0KimchinHZsDmDaxho//aG2CLGsBJzuLB7xlKYO4mfkB4%2b4cG7lZfOB9903A9xfb4e7mYkk6tmIOOF93CLK95msmTHqEtR5PgLHQkfXlO7KbuW7so5TvqJkxMl7apLXA%2b%2b9ONd9PePbJRzH5gQmjP9pt1jTEVZswWzrAfFPIY1JMbIXyBrPMPiuJqWStB88iIUZqfoatHcZTch4/cfzoM%2bztzblqzWdr0FZ0DtQhjgrAW2hzD1D9lLUEiu1wj2U5S0L8J427%2b6mnJwEEaBex6J2fW8nhenM2ClL3jr5s/OTHcbslGbpMMVEyjvjIDRDKQ4VvpVNZgWwDT2ZiN8g9YGkBoMw6hjdeegYOY2J/vD2Rnz0d6sqv4H%2bAsTlJ1BIreeW4KayO6xKqZXqeAFlFfBXaDB2Y8sKU0XuLCopFd89OzcG2zdswceJEc1l2dcFZjZgIxZmnhCfoFDwkqr6m4wcsTdBoD2BdD/D1/bnhQlfcVL8vQL%2bYRWz6zPKy8Th3fA8GG6KwYMkq/P7daZDF74egX4lvKqPwoXsge3/GTGSkpQpfZQSgcIc3JEndwpyUYSqDvYz3Am4kwseHKPb1A4jKbsReRT72KQuQeLgZCTVGSA6YKGf0M4%2bE65i9rVF4b2sLPt9bB0NilVAmNjXVrLm0FUU5xYjZE4ukxCS0Hf8S2oQTYr9/5dRVCsMXxd87%2beHJqC9pYpUJBnHmqQUe4WsDIn%2bac208cObO3gBf7496Qa5jOV/dkQcYUbmQSMbgd6%2b8AUlIGK7UJGIof4bYDZoadgG6JbidOQ19x0Ix0hyFq6XhQld2GJp3vvT9SlmjyllFvX2iSZidCOaYCCJnhJfiFhakfYu1h77HvFwgJAvwTgVmxQnwkBvJY6gT3HFRmLmpBe%2bEN7dlRtfW1ic1gIgIlQkUx3HVOJHShObsNpzKb6eSqBcTHS2EcELdAE1RJWL3xGHDhnB2sqKRlcXpcDSmzFgUXSpeR3YH53lwd5Hd2KWw2AhZxgpeCcTFUL4L6zFEYKh%2bD9CwFf1H/HArm/p99TTcyvgjF4m6PmcSYQZup/%2bR1X0xFRWfv4HL2yZ%2bEJRjXLqm8EdsP1hvTCk5wkq0Cpyq24rvWlay4U4/fNu4ivmmXWZ%2bhUdZ4CENgg4ZmH9BPfzzTjPPxAq4xhyHqzprceGBo8fL1CdQlESrPYWWlSbqUCbVMaoGIsb0%2buArQer0WHNOG%2bso7sLh2GNMulYxotqSAdm6pIHY1dKF1tnfsTzy7g2C25ZSSMTXWXsBcVGURStA9XvsJm9xc2aK6wQiTXDhK0Ohp8BJ6C12Yz2lnuwKec41recNY5e//vaZed397QEwtrsz1j6LoWMm8KUnTGe9YTzrxbpbw7D88AnMq96ORdU72MLqHVhYvRPztBFsvm4XQvWRplDdbrawaj8W66LZR9r9WKaJZSvL4/GXUhk7rKwwaqUGI/X7fNUn3Fkd6hjP/Eejyk2J65OF9K2ZSAxPbkjamPoC59eU0WYbuXLv3ZshVAbHNkNzTVQKifwIL4dElMPI1/8WUfi6H30FThjkmyM6Twx9KWFDZyUg4ky4EAhc9APOeQBfSRi%2bCwOuUft8dT2GaOYHOiRskOxIeyDbVprdF6CNYQt10QjVRrMQ3T6salFiZXMSW9ogQ9jJeMwzRLGAykgSZB%2bbr9%2bH4Ko9bJE%2bGhp1LRpST6MmpQF6RR0q5WJ548nOqEs8MXwk%2bjiUG1VQbEiJtk6yfL3SgcSwju/aDRL3A62lcICqAMcIrQt4a8w3RawbJKYj4lqBo/92tuN3vcfdznPygx1%2bBAkG2rwZu7zK1H0pVThlUKC4II7tiljHdkRsQe/FfRjumMP6OwKAsz5CZv1fz0q0McJiIhai28timwogzUphMZkKyA6mM3lxBlPXFrPdrXkIriRv0EeTp0QjTLv/VmFy%2bT5tgiGDPKCGiPPM3s/X%2bjw/NKSfRtoW9fW4NTIPK3kibm8lbhXhp3t%2bthb7G8I1wg8UFm1ktVQdMgg7yeX5PqAXdY7vkus/%2b8PHrzkMnvGdQuQHR0iE/jZfhovBqNer8OunXqVsbH%2bn1D3wG1zpVEM4542%2bdn9GAiC/4TMjCcBCK3djWaOcZRTl3dUaTxg3HhNsxyE2SYo1rSoEayKFxbWx3Bsu3bW/J6u6jwR4mmZ0GmX8eSWxmo00%2b0/z75I2pNoTYVuLCDbkEf96k9C6McoXRkTyabKPEtFf3O4eOu9/31Cn5CIuBKC31VvA1WVQKXaKBF5%2b%2bUUUHVKhs%2bUYRm61At%2bvR/8ZDzbQKXoAO1C/Fn7aGJAHsGDdHsS0FECenwZFbhqWL18%2bKoQsOxWrmpMQotltWlwXhwW6qM5cVYlD/f4Gu/15Of/2N1pn/RfJ3/ECx38hjJMt7xRvi/v/jva8bRa3zw%2b72PbXeIlhQwLo8HUQ9wATLgczQ5lc/OFvvvEGDNpDiIv6HKHzAnBSkwBcCmW93FPOzkViXTgjASim92GBPooFaiKxslUJ3Ten8M5b5pVdxPYIxF44Ckk5JUl9tInnhVBd1En%2b3uUV8bZKdSHv6S1dXZVdpcxgfzyu0j7l83RRmLxdhb9MfKwH3PUnSO7P/yAxJ0xHG3J7m6EOP1Fhin0lvg3GQLvEyLp82KXTSkx84LGfbXulJ%2b8FrixD7xkfsM65bH/tJkYhAFEASoBBut3IP6fHjPemi9cvWRSGtEuV8Kvg5KOI%2bD5TWH0CF6ucv5esLZ2zGbvPTwnQhqqATc6OAvG4cO/R/59/ZYY6JHzm7S0e8BkXYLDD3zjc4Y7eyzI897y555cn7MOVrhIM3WwGBgvZyNm5bIASpvClH4us3cL8qbwtptmXaHZCfVmHBSHzxfv8fHxRfLURAYY9PAGKHkJkjR81JHAhcvl7ydpxAe7Jh0jfEaBD4o5LgRjs9DcNnHFluLYfs2abF02x0buQr47Cx2F%2bWLRoEfvH%2bXgiP4fdbPbFpuptCNbHsMCKndjRmYeNmzeJ90y8/36kpKVCVZ6PdH0h29mSzYK1u3kIjCxpknExxDS%2boCransY29%2bxDAog5YLBT8grV%2bJHhs/7oPe3O8OM2LF%2bx6qchwJ55/h183ZbGLmpmoabARVhRuWMgtDqG4ns7k58vQbBvwM/Chl7AssoOYUmDVJin2TPyUaMUIWWR4fy9IaW77O%2b1B9haxpMJV4WuAMoDfgJZygPJbNuWcCaL3YqKonh2vkXFhv%2bWxrrPLDSeOjwT2sNeO4KqYi%2bEnYjhLi0sNsSwtNYSJs1LZdFpMhadFM827trKtkVuh7SuwOSZuR6%2b2Ztoab16tLFxT/z0ns7%2bKMzHfg24GEjdnsQ00D6XCV3%2bAn74qwnXPjHim/lGnPc1CV96GAfafVCfNyv71xeaJlHi61lYFc1d2jhfu9cUpN9jXNooM37SojSuazswsrEj07j5XM5wQHEE3BR/gUfSZytHycvN5Kks3lsRBq1h0OGnxuVA3hEODVNTZDrnD3bOx9wWf03t8VeES8G4Vu/T0faSza8ktfLnFlL2X1wbB97chNXHczfHYrIcC09Sw1MbgwX1sfDOCO9zk3/qxt9DY3uv9HWi5/mow22Cj%2b28hwJQJSDCDhYxduDWQvCGiM4Z6fj6UKd/E9kcQgQhmM7/gV2cN4lfv1a7dWKoPur35AUfkgd4UhiEkF1BWE/YTogj70ibX7Enxytt3Zv8njlpax3mJK8R3%2b2hXG3jnbrW5p5/xuSBdwmbCZ6EqYQH/909VeX%2bdv/b93imrBnt6jj5/8vPPwFwKsXSiLMoKQAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="120" data-src="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png" data-srcset="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png 120w" data-sizes="(max-width: 120px) 100vw, 120px" class="text-ui-primary g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png" class="text-ui-primary g-image g-image--loaded" width="120"></noscript></a></div><div class="w-full px-2 sm:px-4 max-w-screen-xs"><!----></div><div class="flex items-center justify-end px-2 sm:px-4"><!----><!----><!----><div class=".clearfix" style="min-width:260px;"><a href="https://github.com/msa-ez/platform?tab=readme-ov-file#running-on-docker-compose-with-github" target="_blank" style="display:block; width:50px; height:50px; line-height:50px; float:left; padding-top: 13px;"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" style="margin:0 auto;"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><div style="width:55px; height:50px; text-align:center; line-height:50px; font-weight:700; float:left;"><a style="cursor:pointer;">한국어</a></div><div style="width:50px; height:50px; text-align:center; line-height:50px; float:left; padding-top: 5px;"><button aria-label="Toggle Darkmode" title="Toggle Darkmode"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div><div style="text-align:center; line-height:50px; float:left;"><a href="http://labs.msaez.io/" target="_blank" rel="noopener" class="px-4 py-2 ml-auto font-bold leading-none text-white rounded-lg shadow-lg bg-ui-primary">
              실습하기
            </a></div></div></div></div><div class="flex items-center justify-between -mx-2 sm:-mx-4 is-mobile"><div class="flex"><a href="/" title="Home" class="flex items-center text-ui-primary active"><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 120 64' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-fc641bf75e53d9efc3486e04cdc3cd6a'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-fc641bf75e53d9efc3486e04cdc3cd6a)' width='120' height='64' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAiCAYAAADvVd%2bPAAAACXBIWXMAAC4jAAAuIwF4pT92AAATw0lEQVRo3sVZCVSTZ7pmc6y22vXedqa3iz2dTje7TduZjrZWZQcBIayKC9W6dTrVUVHrUlxwAdmSEAIEJOwoCoosIQkEQVZFFitatYsdtVNHlB2S/3vm/f4kiO3M7b3n3HvMOc95v//Pv%2bR5vnf7vtjY0Kcnz0nE2PFPYGuBnQX2t3MdHURL523uwUcjrbLRyKrtCPYW2NE52wpZtS2N6ftqmwrzNebrZXfGP/tYSIrEevIcOSl789jJjoj%2b4o/pyXWyoXsm/Zjr%2bRzyX39nS1qts6uSLfBJ7g/xUg4GeycPBhECCQEEf4KE4EeY65U86EPW21s54OWlHPD0Th7woGN3Ou82V9nvNitZcEySt4Xppbol5bLqD4ngb4nI/f/d76n4mThV9hVS8dgszqgoZG/n/Q8IEjki%2bBTZN0kgD7pnGY0jaKwilNO4jb6/2p3r2i/k/0GITS/udlMDAZmAnxXquyGxQDzOAHytOHAHfgQPQorqMlpUDdAp6kACDNAP/57QQLOcR3Y3EV5KmEXj35J96Jf4cIHGWk7wEcLrBGfCQiK1qSfXMZHGJWRbyAu%2bJtvTl%2b8E42EXoNgVOOZO8AArdhPPDR50Rk%2b%2bK0z570GdoRp2VMI4N7nPSDNKGDTS7IrWh449Fb1GZ2mPyVnaa3KV9Zi8kvpMdN5E3mKi6wlklQMiPJOHhAPyU6Yqqc5IHiBUyg3QK2phSG5AnaoZJ9NOoTa1CdXKkyABhonUFbJNhINcHMISghPhd4TJd0SovsuFo1mRK/oLnIGjbkTMzWyJnOmIGwYPuaKvwAUkCCMxhJ48Z%2bOtnNnGmxl/Ikwz3s51MtF3QneuCzPm/YmVqyPhrATzSe5jRIgRebKDZPuZo2yAheSArS4BW3sc7JOjYHPTwZxl/XQ9v2ZQvIfIszl07Ev3HJQ1MJ1Uz2j2Gc06IyICETWRNZI1luzXmI5Fa4TyeD2qkupQQ%2bJwUU6qWkikFvEcF4fwN8JZwixLCNiJAhCBv3LSRGKYQIQcjdxykrfUfzL1ZU8TutXTGLk54yLcyv6QDR92Z2jYyFC7Gv15s0iY2exWnguG86azU1l/YR5KEycCkUzyILyS%2bjEneQQJBhPi0ouxet1mfLp6HTZs24PUoiZsLgNc5AMgTwCJABIANPsIVt5GiawGldIq7v6cCIg0F4GVJ%2bihkRpYx7Eudk5zkdUdaGalsTqBvjNxYbhAFgiVMgO08ho0pLfS/dWuFgHsrQJ4cTcmgiYiz0mCyDOaeTZcvwt/r5PBVLMWPdkf8vMYLvZBuyYFAYHBWLXqz/jhRDz6cmeiO9eZDeTNwKWcUBaQfIvNUQ5xAURSLolDUBj6MT/AG/TKu/ArWxvsjpbikyLAVd5H15sFcE8expKkG0SyipMeKwCNq6BJqEarth2rPlkFD08PFOUVozHnNEpjtaJAY8XiImjM91MOqXrRUhnsLCHg%2bHovke6xznCuExGagesnEuDuE4RJjzyBrdu%2bgFC7Ef9IfR1C4y7McrlDZFfEZqBqCf6h/gC9eY64keuJj1K%2bhZvSRGT64SrrxUoit313jOUeWzzz7LNwmjUDL0x5UjwXGuSHXVXA7IReUTAfEsCVPGZ10lVQBRDJV1jIa%2bTVOBZVgXPlX%2bHPn/559Hc8%2bcxvcKryDCrizAKJ11pE4wLw3EH2GuFRiwfYWpPgE4QbA5QDeCzfzPoQKPdHVtLuOzNlPxGdlSkw5b2H64YYPPnsC6Pfubh5AvVb0Z3xHnmRCwbyZmKt6gxclAy%2bKf1wJFIRWsBf4iteT29F/lE9jnwDxJVdw05ZLhQVf4Ovyog5Sh42g6IALiTAFsXXMEi1KLcIwMlw169W1kN/rArjxo8TBR3nME589qGMw6hVNaEsXjeWPPcAk4HuIVHaR8ugNRFa6n4HDwOyppuZJEBFENITIsSHTrhvvGg3b1wH1C1Ha/FejJv48BjlX8Dfa2LRlz0d3XmuGMmbjn1p5XBSUjlL7oOTtBfhFOMrV5lny87eHlOnvoaNkYlILP8esU2Ak0KAp6JPJE9Jc9QD9iV23RFgzOyf112Cf4C/%2bXl2dnBwcLB4YyROF3TgeEzlzwQ4kdLIx8ctJdCWN0e8D7Cz5IFSXgksAjBUBEMVv118qIODvWife/E1oDMFxSlb6dhuTBz/CjWHYiAUueFGtrPoJQcOHMBsEoBKoZgAfVQMas0FPP9fj9wV///x0H34ZMUyJNf0wkM5TLHfL4pgzQHUBKHKIgAnw2e2Lq0ZxflHYWNrfkZgUCDefvttcRwcHIyzZRdQEq0ZzRcWEYy8KpCVWwSwFz2Bd3yWMJDz0sez/83MGYAmBMqYL8SHjhvnIIKPa8ryoZLvE8evvvoKHn74IXEcG/k5oF2AHzNnir1AqXoPL4UUz%2bak5p7Yh9BsBkVxOwIlc/HU4w/dJcSKpYuxk8LEUdon5gAuAJVBZMubxRxQLq0WZ78kSoPz1Zfg5Owo3jd%2b/Hh0tXfBx9tHPH7jrddxpqIDZTE/DYEqI%2b8ZyK6zxL%2bDRQBHqwCrLaWQC8BQOR/yqK3iQ5944nF4e3mJ48VhS7A%2bPFwch4dvwPvvvy%2bOg4KCKQ9sxI2M6RjO/wDNWavhqRwZrQLuigESANh1ApC1ANKKv2Pb3kQ89og5lB59cAIUZd/QrFPiVPaL5CXKPhyWnYRWqhfj/3hsJZqyWpGpyhoVzt3DHSPdRqxYtkI8nvTgJOiLDNDJa2n29RYBxEpg4v0BlcBA0QPGlEB7SzPkIxyxhgAXIBQJe7eY3fSxR3HkSLEYaw8%2bOBlTpkwRzxcfKcTHS5eK4xen/h7dtdG4nTWd%2boKZuJizAJLkHnhRLeezv/wgIM8oQkigBDsTCxFbfgPlp67jtVdfFu9/8P5xkB/rwpxURgL0UTgMYUFSN0qpB9BYYr90vxbnDBfw1ttvjgrgQMlvypRn8dTTT42eS5Wr0KimchinHZsDmDaxho//aG2CLGsBJzuLB7xlKYO4mfkB4%2b4cG7lZfOB9903A9xfb4e7mYkk6tmIOOF93CLK95msmTHqEtR5PgLHQkfXlO7KbuW7so5TvqJkxMl7apLXA%2b%2b9ONd9PePbJRzH5gQmjP9pt1jTEVZswWzrAfFPIY1JMbIXyBrPMPiuJqWStB88iIUZqfoatHcZTch4/cfzoM%2bztzblqzWdr0FZ0DtQhjgrAW2hzD1D9lLUEiu1wj2U5S0L8J427%2b6mnJwEEaBex6J2fW8nhenM2ClL3jr5s/OTHcbslGbpMMVEyjvjIDRDKQ4VvpVNZgWwDT2ZiN8g9YGkBoMw6hjdeegYOY2J/vD2Rnz0d6sqv4H%2bAsTlJ1BIreeW4KayO6xKqZXqeAFlFfBXaDB2Y8sKU0XuLCopFd89OzcG2zdswceJEc1l2dcFZjZgIxZmnhCfoFDwkqr6m4wcsTdBoD2BdD/D1/bnhQlfcVL8vQL%2bYRWz6zPKy8Th3fA8GG6KwYMkq/P7daZDF74egX4lvKqPwoXsge3/GTGSkpQpfZQSgcIc3JEndwpyUYSqDvYz3Am4kwseHKPb1A4jKbsReRT72KQuQeLgZCTVGSA6YKGf0M4%2bE65i9rVF4b2sLPt9bB0NilVAmNjXVrLm0FUU5xYjZE4ukxCS0Hf8S2oQTYr9/5dRVCsMXxd87%2beHJqC9pYpUJBnHmqQUe4WsDIn%2bac208cObO3gBf7496Qa5jOV/dkQcYUbmQSMbgd6%2b8AUlIGK7UJGIof4bYDZoadgG6JbidOQ19x0Ix0hyFq6XhQld2GJp3vvT9SlmjyllFvX2iSZidCOaYCCJnhJfiFhakfYu1h77HvFwgJAvwTgVmxQnwkBvJY6gT3HFRmLmpBe%2bEN7dlRtfW1ic1gIgIlQkUx3HVOJHShObsNpzKb6eSqBcTHS2EcELdAE1RJWL3xGHDhnB2sqKRlcXpcDSmzFgUXSpeR3YH53lwd5Hd2KWw2AhZxgpeCcTFUL4L6zFEYKh%2bD9CwFf1H/HArm/p99TTcyvgjF4m6PmcSYQZup/%2bR1X0xFRWfv4HL2yZ%2bEJRjXLqm8EdsP1hvTCk5wkq0Cpyq24rvWlay4U4/fNu4ivmmXWZ%2bhUdZ4CENgg4ZmH9BPfzzTjPPxAq4xhyHqzprceGBo8fL1CdQlESrPYWWlSbqUCbVMaoGIsb0%2buArQer0WHNOG%2bso7sLh2GNMulYxotqSAdm6pIHY1dKF1tnfsTzy7g2C25ZSSMTXWXsBcVGURStA9XvsJm9xc2aK6wQiTXDhK0Ohp8BJ6C12Yz2lnuwKec41recNY5e//vaZed397QEwtrsz1j6LoWMm8KUnTGe9YTzrxbpbw7D88AnMq96ORdU72MLqHVhYvRPztBFsvm4XQvWRplDdbrawaj8W66LZR9r9WKaJZSvL4/GXUhk7rKwwaqUGI/X7fNUn3Fkd6hjP/Eejyk2J65OF9K2ZSAxPbkjamPoC59eU0WYbuXLv3ZshVAbHNkNzTVQKifwIL4dElMPI1/8WUfi6H30FThjkmyM6Twx9KWFDZyUg4ky4EAhc9APOeQBfSRi%2bCwOuUft8dT2GaOYHOiRskOxIeyDbVprdF6CNYQt10QjVRrMQ3T6salFiZXMSW9ogQ9jJeMwzRLGAykgSZB%2bbr9%2bH4Ko9bJE%2bGhp1LRpST6MmpQF6RR0q5WJ548nOqEs8MXwk%2bjiUG1VQbEiJtk6yfL3SgcSwju/aDRL3A62lcICqAMcIrQt4a8w3RawbJKYj4lqBo/92tuN3vcfdznPygx1%2bBAkG2rwZu7zK1H0pVThlUKC4II7tiljHdkRsQe/FfRjumMP6OwKAsz5CZv1fz0q0McJiIhai28timwogzUphMZkKyA6mM3lxBlPXFrPdrXkIriRv0EeTp0QjTLv/VmFy%2bT5tgiGDPKCGiPPM3s/X%2bjw/NKSfRtoW9fW4NTIPK3kibm8lbhXhp3t%2bthb7G8I1wg8UFm1ktVQdMgg7yeX5PqAXdY7vkus/%2b8PHrzkMnvGdQuQHR0iE/jZfhovBqNer8OunXqVsbH%2bn1D3wG1zpVEM4542%2bdn9GAiC/4TMjCcBCK3djWaOcZRTl3dUaTxg3HhNsxyE2SYo1rSoEayKFxbWx3Bsu3bW/J6u6jwR4mmZ0GmX8eSWxmo00%2b0/z75I2pNoTYVuLCDbkEf96k9C6McoXRkTyabKPEtFf3O4eOu9/31Cn5CIuBKC31VvA1WVQKXaKBF5%2b%2bUUUHVKhs%2bUYRm61At%2bvR/8ZDzbQKXoAO1C/Fn7aGJAHsGDdHsS0FECenwZFbhqWL18%2bKoQsOxWrmpMQotltWlwXhwW6qM5cVYlD/f4Gu/15Of/2N1pn/RfJ3/ECx38hjJMt7xRvi/v/jva8bRa3zw%2b72PbXeIlhQwLo8HUQ9wATLgczQ5lc/OFvvvEGDNpDiIv6HKHzAnBSkwBcCmW93FPOzkViXTgjASim92GBPooFaiKxslUJ3Ten8M5b5pVdxPYIxF44Ckk5JUl9tInnhVBd1En%2b3uUV8bZKdSHv6S1dXZVdpcxgfzyu0j7l83RRmLxdhb9MfKwH3PUnSO7P/yAxJ0xHG3J7m6EOP1Fhin0lvg3GQLvEyLp82KXTSkx84LGfbXulJ%2b8FrixD7xkfsM65bH/tJkYhAFEASoBBut3IP6fHjPemi9cvWRSGtEuV8Kvg5KOI%2bD5TWH0CF6ucv5esLZ2zGbvPTwnQhqqATc6OAvG4cO/R/59/ZYY6JHzm7S0e8BkXYLDD3zjc4Y7eyzI897y555cn7MOVrhIM3WwGBgvZyNm5bIASpvClH4us3cL8qbwtptmXaHZCfVmHBSHzxfv8fHxRfLURAYY9PAGKHkJkjR81JHAhcvl7ydpxAe7Jh0jfEaBD4o5LgRjs9DcNnHFluLYfs2abF02x0buQr47Cx2F%2bWLRoEfvH%2bXgiP4fdbPbFpuptCNbHsMCKndjRmYeNmzeJ90y8/36kpKVCVZ6PdH0h29mSzYK1u3kIjCxpknExxDS%2boCransY29%2bxDAog5YLBT8grV%2bJHhs/7oPe3O8OM2LF%2bx6qchwJ55/h183ZbGLmpmoabARVhRuWMgtDqG4ns7k58vQbBvwM/Chl7AssoOYUmDVJin2TPyUaMUIWWR4fy9IaW77O%2b1B9haxpMJV4WuAMoDfgJZygPJbNuWcCaL3YqKonh2vkXFhv%2bWxrrPLDSeOjwT2sNeO4KqYi%2bEnYjhLi0sNsSwtNYSJs1LZdFpMhadFM827trKtkVuh7SuwOSZuR6%2b2Ztoab16tLFxT/z0ns7%2bKMzHfg24GEjdnsQ00D6XCV3%2bAn74qwnXPjHim/lGnPc1CV96GAfafVCfNyv71xeaJlHi61lYFc1d2jhfu9cUpN9jXNooM37SojSuazswsrEj07j5XM5wQHEE3BR/gUfSZytHycvN5Kks3lsRBq1h0OGnxuVA3hEODVNTZDrnD3bOx9wWf03t8VeES8G4Vu/T0faSza8ktfLnFlL2X1wbB97chNXHczfHYrIcC09Sw1MbgwX1sfDOCO9zk3/qxt9DY3uv9HWi5/mow22Cj%2b28hwJQJSDCDhYxduDWQvCGiM4Z6fj6UKd/E9kcQgQhmM7/gV2cN4lfv1a7dWKoPur35AUfkgd4UhiEkF1BWE/YTogj70ibX7Enxytt3Zv8njlpax3mJK8R3%2b2hXG3jnbrW5p5/xuSBdwmbCZ6EqYQH/909VeX%2bdv/b93imrBnt6jj5/8vPPwFwKsXSiLMoKQAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="120" data-src="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png" data-srcset="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png 120w" data-sizes="(max-width: 120px) 100vw, 120px" class="text-ui-primary g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png" class="text-ui-primary g-image g-image--loaded" width="120"></noscript></a><div class="w-full px-2 sm:px-4 max-w-screen-xs"><!----></div></div><div class="flex items-center justify-end px-2 sm:px-4"><!----><!----><!----><div class=".clearfix"><a href="https://github.com/msa-ez/platform?tab=readme-ov-file#running-on-docker-compose-with-github" target="_blank" style="display:block; width:50px; height:50px; line-height:50px; float:left; padding-top: 13px;"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" style="margin:0 auto;"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><div style="width:55px; height:50px; text-align:center; line-height:50px; font-weight:700; float:left;"><a style="cursor:pointer;">한국어</a></div><div style="width:50px; height:50px; text-align:center; line-height:50px; float:left; padding-top: 5px;"><button aria-label="Toggle Darkmode" title="Toggle Darkmode"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div><div style="text-align:center; line-height:50px; float:left;"><a href="http://labs.msaez.io/" target="_blank" rel="noopener" class="px-4 py-2 ml-auto font-bold leading-none text-white rounded-lg shadow-lg bg-ui-primary">
              실습하기
            </a></div></div></div></div></div></div></header><main class="container relative flex flex-wrap justify-start flex-1 w-full bg-ui-background"><!----><div class="w-full pb-24"><div class="flex flex-wrap items-start justify-start"><div class="order-2 w-full md:w-1/4 sm:pl-4 md:pl-6 lg:pl-8 sticky" style="top:4rem;"><div class="mt-8 sm:pl-4 md:pl-6 md:pt-12 lg:pl-8 sm:pb-16 sm:border-l border-ui-border md:mt-0"><h3 class="pt-0 mt-0 text-sm tracking-wide uppercase border-none">On this page</h3><div><ul><li class="font-semibold depth-2"><a href="/development/orchestration-saga/#axon-saga-labs" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Axon Saga Labs
        </a></li><li class="depth-3"><a href="/development/orchestration-saga/#시나리오" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          시나리오
        </a></li><li class="depth-3"><a href="/development/orchestration-saga/#saga-modeling" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Saga Modeling
        </a></li><li class="depth-4"><a href="/development/orchestration-saga/#process-orchestration---direction--label" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Process Orchestration ( &gt; direction, () Label)
        </a></li><li class="depth-4"><a href="/development/orchestration-saga/#code-push--load-on-gitpod" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Code Push &amp; Load on GitPod
        </a></li><li class="depth-3"><a href="/development/orchestration-saga/#axon-server" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Axon Server
        </a></li><li class="depth-4"><a href="/development/orchestration-saga/#infra--docker-composeyml" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          infra &gt; docker-compose.yml
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/development/orchestration-saga/#orchestration-code-completion" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Orchestration Code Completion
        </a></li><li class="depth-3"><a href="/development/orchestration-saga/#product-service" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Product Service
        </a></li><li class="depth-3"><a href="/development/orchestration-saga/#order-service" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Order Service
        </a></li><li class="depth-3"><a href="/development/orchestration-saga/#delivery-service" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Delivery Service
        </a></li><li class="depth-3"><a href="/development/orchestration-saga/#ordersaga" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          OrderSaga
        </a></li><li class="depth-4"><a href="/development/orchestration-saga/#1-saga-start" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          1. Saga Start
        </a></li><li class="depth-4"><a href="/development/orchestration-saga/#2-배송시작-command-생성-및-호출--27라인" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          2. 배송시작 Command 생성 및 호출 : 27라인
        </a></li><li class="depth-4"><a href="/development/orchestration-saga/#3-deliverystartedevent-이벤트로부터-correlation-key-설정" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          3. DeliveryStartedEvent 이벤트로부터 Correlation key 설정
        </a></li><li class="depth-4"><a href="/development/orchestration-saga/#4-재고차감-command-생성-및-호출" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          4. 재고차감 Command 생성 및 호출
        </a></li><li class="depth-4"><a href="/development/orchestration-saga/#5-stockdecreasedevent-이벤트로부터-correlation-key-설정" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          5. StockDecreasedEvent 이벤트로부터 Correlation key 설정
        </a></li><li class="depth-4"><a href="/development/orchestration-saga/#6-주문완료-command-생성-및-호출" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          6. 주문완료 Command 생성 및 호출
        </a></li><li class="depth-4"><a href="/development/orchestration-saga/#7-saga-end" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          7. Saga End
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/development/orchestration-saga/#12st-mall-테스트" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          12st Mall 테스트
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/development/orchestration-saga/#12st-mall-saga-compensation-검증" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          12st Mall Saga Compensation 검증
        </a></li><li class="depth-3"><a href="/development/orchestration-saga/#주문-생성" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          주문 생성
        </a></li><li class="depth-3"><a href="/development/orchestration-saga/#확장-미션---주문서비스-debugging" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
           - 주문서비스 Debugging
        </a></li></ul></div></div></div><div class="order-1 w-full md:w-3/4"><div class="content"><h1 id="orchestration-saga-with-axon-framework"><a href="#orchestration-saga-with-axon-framework" aria-hidden="true"><span class="icon icon-link"></span></a>Orchestration Saga with Axon Framework</h1>
<h2 id="axon-saga-labs"><a href="#axon-saga-labs" aria-hidden="true"><span class="icon icon-link"></span></a>Axon Saga Labs</h2>
<p>12st Mall 주문 프로세스를 Process Visibility가 높은 Orchestration 타입을 적용한다.
기본적으로 생성된 템플릿 코드에 Biz 로직을 추가해 주문 프로세스가 동작하도록 코드를 완성해 본다.</p>
<h3 id="시나리오"><a href="#%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4" aria-hidden="true"><span class="icon icon-link"></span></a>시나리오</h3>
<ul>
<li>주문 커맨드에 따라 OrderPlaced 이벤트가 생성된다.</li>
<li>OrderPlaced 이벤트로 Order Saga 프로세스가 구동된다.</li>
<li>Saga Process는 배송시작 커맨드를 호출하고 DeliveryStarted 이벤트를 생성한다.</li>
<li>이어, 재고차감 커맨드가 호출되고 StockDecreased 이벤트를 생성한다.</li>
<li>최종 주문상태를 업데이트하는 절차로 Saga Process는 종료된다.</li>
<li>각 커맨드 호출시, 오류가 발생하면 이의 처리를 위해 Compensation Logic이 각각 실행된다. </li>
</ul>
<h3 id="saga-modeling"><a href="#saga-modeling" aria-hidden="true"><span class="icon icon-link"></span></a>Saga Modeling</h3>
<ul>
<li>모델 상단의 Fork 메뉴를 클릭한다.</li>
<li>복제돤 모델을 다음과 같이 오케스트레이션 한다.</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/35618409/229645326-3a24d5e3-81f3-4ecb-9e6f-2101302eb697.png" alt="image"></p>
<h4 id="process-orchestration---direction--label"><a href="#process-orchestration---direction--label" aria-hidden="true"><span class="icon icon-link"></span></a>Process Orchestration ( > direction, () Label)</h4>
<ul>
<li>OrderPlaced > Order Saga, (1.start)</li>
<li>Order Saga > start delivery, (2)</li>
<li>DeliveryStarted > Order Saga, (3)</li>
<li>Order Saga > decrease stock, (4)</li>
<li>StockDecreased > Order Saga, (5)</li>
<li>Order Saga > update status, (6)</li>
<li>OrderCompleted > Order Saga, (7.end)</li>
<li>Order Saga > order cancel, (2')</li>
<li>Order Saga > cancel delivery, (4')</li>
</ul>
<h4 id="code-push--load-on-gitpod"><a href="#code-push--load-on-gitpod" aria-hidden="true"><span class="icon icon-link"></span></a>Code Push &#x26; Load on GitPod</h4>
<ul>
<li>Code Preview > Git 아이콘을 눌러 내 Repository에 Push한다.
<img src="https://user-images.githubusercontent.com/35618409/229663138-ec1a8a2c-a50f-4c3c-ba4c-75c1ea9057ad.png" alt="image"></li>
</ul>
<p><img src="https://user-images.githubusercontent.com/35618409/229649084-15d388b9-3246-43b2-956c-d1012f47ce12.png" alt="image"></p>
<ul>
<li>GitPod 환경에서 로딩한다.
<img src="https://user-images.githubusercontent.com/35618409/229649200-cd48e7fb-54bb-46af-9806-0f893d9375bb.png" alt="image"></li>
</ul>
<h3 id="axon-server"><a href="#axon-server" aria-hidden="true"><span class="icon icon-link"></span></a>Axon Server</h3>
<h4 id="infra--docker-composeyml"><a href="#infra--docker-composeyml" aria-hidden="true"><span class="icon icon-link"></span></a>infra > docker-compose.yml</h4>
<ul>
<li>Axon Server는 대시보드를 위한 8024, 메시지 gRPC를 위한 8124 포트를 사용한다.</li>
<li>각 서비스들의 Offset Token 관리를 위한 Token Store(MySQL)가 Lab 실행시 생성된다.</li>
</ul>
<h2 id="orchestration-code-completion"><a href="#orchestration-code-completion" aria-hidden="true"><span class="icon icon-link"></span></a>Orchestration Code Completion</h2>
<h3 id="product-service"><a href="#product-service" aria-hidden="true"><span class="icon icon-link"></span></a>Product Service</h3>
<p>상품 Domain 코드에 Biz 로직을 완성한다.</p>
<ul>
<li>재고 부족시 도메인 오류 발생코드를 추가한다.</li>
</ul>
<pre class="language-text"><code class="language-text"># ProductAggregate - @DecreaseStockCommand 재고부족시 Exception 발생 
	if(this.getStock() &lt; command.getStock()) throw new IllegalStateException(&quot;Out of Stock. !&quot;);  // 코드추가</code></pre>
<ul>
<li>product > ProductAggregate.java 내 다음 코드를 추가한다.</li>
</ul>
<pre class="language-text"><code class="language-text"># @EventSourcingHandler :: StockIncreasedEvent : 
    setStock(getStock() + event.getStock());  // 코드추가

#  @EventSourcingHandler :: StockDecreasedEvent : 
    setStock(getStock() - event.getStock());  // 코드추가</code></pre>
<h3 id="order-service"><a href="#order-service" aria-hidden="true"><span class="icon icon-link"></span></a>Order Service</h3>
<p>주문 Domain 코드에 Biz 로직을 완성한다.</p>
<ul>
<li>order > OrderAggregate.java 내 다음 코드를 추가한다.</li>
</ul>
<pre class="language-text"><code class="language-text"># @EventSourcingHandler :: OrderPlacedEvent :
     setStatus(&quot;OrderPlaced&quot;); 			// 코드추가
# @EventSourcingHandler :: OrderCompletedEvent : 
     setStatus(&quot;OrderCompleted&quot;); 		// 코드추가
# @EventSourcingHandler :: OrderCancelledEvent :      
      setStatus(&quot;OrderCancelled&quot;);		// 코드추가</code></pre>
<h3 id="delivery-service"><a href="#delivery-service" aria-hidden="true"><span class="icon icon-link"></span></a>Delivery Service</h3>
<p>배송 Domain 코드에 Biz 로직을 완성한다.</p>
<ul>
<li>delivery > DeliveryAggregate.java 내 다음 코드를 추가한다.</li>
</ul>
<pre class="language-text"><code class="language-text"># @EventSourcingHandler :: DeliveryStartedEvent :
      setStatus(&quot;DeliveryStarted&quot;); 		// 코드추가
# @EventSourcingHandler :: DeliveryCancelledEvent : 
      setStatus(&quot;DeliveryCancelled&quot;); 		// 코드추가</code></pre>
<h3 id="ordersaga"><a href="#ordersaga" aria-hidden="true"><span class="icon icon-link"></span></a>OrderSaga</h3>
<p>주문 오케스트레이션을 수행하도록 OrderSaga 코드를 완성한다.</p>
<h4 id="1-saga-start"><a href="#1-saga-start" aria-hidden="true"><span class="icon icon-link"></span></a>1. Saga Start</h4>
<ul>
<li>OrderPlaced 이벤트로부터 Correlation key 설정 : 24 라인</li>
</ul>
<pre class="language-text"><code class="language-text">	@SagaEventHandler(associationProperty = &quot;orderId&quot;)</code></pre>
<h4 id="2-배송시작-command-생성-및-호출--27라인"><a href="#2-%EB%B0%B0%EC%86%A1%EC%8B%9C%EC%9E%91-command-%EC%83%9D%EC%84%B1-%EB%B0%8F-%ED%98%B8%EC%B6%9C--27%EB%9D%BC%EC%9D%B8" aria-hidden="true"><span class="icon icon-link"></span></a>2. 배송시작 Command 생성 및 호출 : 27라인</h4>
<pre class="language-text"><code class="language-text">command.setOrderId(event.getOrderId());
command.setProductId(event.getProductId());
command.setQty(event.getQty());
command.setUserId(event.getUserId());

# 배송실패시, 주문취소 Compensation 처리 : OrderCancelCommand
orderCancelCommand.setOrderId(event.getOrderId());  	// 코드추가</code></pre>
<h4 id="3-deliverystartedevent-이벤트로부터-correlation-key-설정"><a href="#3-deliverystartedevent-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EB%A1%9C%EB%B6%80%ED%84%B0-correlation-key-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="icon icon-link"></span></a>3. DeliveryStartedEvent 이벤트로부터 Correlation key 설정</h4>
<pre class="language-text"><code class="language-text">	@SagaEventHandler(associationProperty = &quot;orderId&quot;)</code></pre>
<h4 id="4-재고차감-command-생성-및-호출"><a href="#4-%EC%9E%AC%EA%B3%A0%EC%B0%A8%EA%B0%90-command-%EC%83%9D%EC%84%B1-%EB%B0%8F-%ED%98%B8%EC%B6%9C" aria-hidden="true"><span class="icon icon-link"></span></a>4. 재고차감 Command 생성 및 호출</h4>
<pre class="language-text"><code class="language-text">command.setProductId(event.getProductId());
command.setStock(event.getQty());	
command.setOrderId(event.getOrderId());

# 재고차감 실패시, 배송취소 Compensation 처리 : CancelDeliveryCommand
cancelDeliveryCommand.setDeliveryId(event.getDeliveryId());	// 코드추가</code></pre>
<h4 id="5-stockdecreasedevent-이벤트로부터-correlation-key-설정"><a href="#5-stockdecreasedevent-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EB%A1%9C%EB%B6%80%ED%84%B0-correlation-key-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="icon icon-link"></span></a>5. StockDecreasedEvent 이벤트로부터 Correlation key 설정</h4>
<pre class="language-text"><code class="language-text">	@SagaEventHandler(associationProperty = &quot;orderId&quot;)</code></pre>
<h4 id="6-주문완료-command-생성-및-호출"><a href="#6-%EC%A3%BC%EB%AC%B8%EC%99%84%EB%A3%8C-command-%EC%83%9D%EC%84%B1-%EB%B0%8F-%ED%98%B8%EC%B6%9C" aria-hidden="true"><span class="icon icon-link"></span></a>6. 주문완료 Command 생성 및 호출</h4>
<pre class="language-text"><code class="language-text">command.setOrderId(event.getOrderId());</code></pre>
<h4 id="7-saga-end"><a href="#7-saga-end" aria-hidden="true"><span class="icon icon-link"></span></a>7. Saga End</h4>
<ul>
<li>OrderCompletedEvent 이벤트로부터 Correlation key 설정</li>
</ul>
<pre class="language-text"><code class="language-text">	@SagaEventHandler(associationProperty = &quot;orderId&quot;)</code></pre>
<ul>
<li>Saga Process 종료</li>
</ul>
<h2 id="12st-mall-테스트"><a href="#12st-mall-%ED%85%8C%EC%8A%A4%ED%8A%B8" aria-hidden="true"><span class="icon icon-link"></span></a>12st Mall 테스트</h2>
<ul>
<li>Rest API를 활용해 생성된 Axon Saga 기반 몰을 테스트 한다.</li>
<li>먼저 Common API를 빌드한다.</li>
</ul>
<pre class="language-text"><code class="language-text">cd common-api
mvn clean install</code></pre>
<ul>
<li>각 마이크로 서비스를 실행한다.</li>
</ul>
<pre class="language-text"><code class="language-text"># new terminal
cd order
mvn clean spring-boot:run

# new terminal
cd product
mvn clean spring-boot:run

# new terminal
cd delivery
mvn clean spring-boot:run</code></pre>
<ul>
<li>상품서비스(:8082)에 테스트용 상품을 등록한다.</li>
</ul>
<pre class="language-text"><code class="language-text"># new terminal
http POST :8082/products productName=TV stock=100</code></pre>
<ul>
<li>등록된 상품 Id를 복사해 둔다.
<img src="https://user-images.githubusercontent.com/35618409/229345799-6a86743c-d3b1-43b7-9a94-91c4e50cfd9b.png" alt="image"></li>
<li>복사한 상품 Id로 10개의 TV를 구매하는 주문을 생성한다.</li>
</ul>
<pre class="language-text"><code class="language-text">http POST :8081/orders productId=[상품 Id] productName=TV qty=10 userId=1001</code></pre>
<ul>
<li>생성된 주문 Id를 복사해 둔다.
<img src="https://user-images.githubusercontent.com/35618409/229346264-89d2c227-5dc8-454d-acb0-1c24bc0da63d.png" alt="image"></li>
</ul>
<h2 id="12st-mall-saga-compensation-검증"><a href="#12st-mall-saga-compensation-%EA%B2%80%EC%A6%9D" aria-hidden="true"><span class="icon icon-link"></span></a>12st Mall Saga Compensation 검증</h2>
<h3 id="주문-생성"><a href="#%EC%A3%BC%EB%AC%B8-%EC%83%9D%EC%84%B1" aria-hidden="true"><span class="icon icon-link"></span></a>주문 생성</h3>
<ul>
<li>상품 Id로 100개의 TV를 구매하는 주문을 생성하고 주문번호를 복사해 두자.</li>
</ul>
<pre class="language-text"><code class="language-text">http POST :8081/orders productId=[상품 Id] productName=TV qty=100 userId=1001</code></pre>
<ul>
<li>재고 개수(90)보다 많은 주문으로 상품서비스에서 오류를 리턴한다.</li>
</ul>
<ul>
<li>주문 번호로 생성된 주문의 최종 상태와 이벤트 이력을 조회해 본다.</li>
</ul>
<pre class="language-text"><code class="language-text">http GET :8081/orders/[주문번호]
http GET :8081/orders/[주문번호]/events</code></pre>
<ul>
<li>배송서비스의 배송 상태를 조회해 본다.</li>
</ul>
<pre class="language-text"><code class="language-text">http GET :8083/deliveries</code></pre>
<h3 id="확장-미션---주문서비스-debugging"><a href="#%ED%99%95%EC%9E%A5-%EB%AF%B8%EC%85%98---%EC%A3%BC%EB%AC%B8%EC%84%9C%EB%B9%84%EC%8A%A4-debugging" aria-hidden="true"><span class="icon icon-link"></span></a>[확장 미션] - 주문서비스 Debugging</h3>
<ul>
<li>주문서비스를 종료한다.</li>
<li>OrderSaga 에 SagaEventHandler별로 Break Points를 추가한다.</li>
<li>주문서비스를 디버그 모드로 실행한다.</li>
<li>새로운 주문을 생성한 다음 Debug Point를 확인하면서 Orchestration 흐름을 식별한다.</li>
<li>재고보다 많은 수량을 넣어 Debug Point를 확인한다.</li>
</ul>
</div><div class="mt-8 pt-8 lg:mt-12 lg:pt-12 border-t border-ui-border"><div><div class="flex flex-col sm:flex-row justify-between items-center"><!----><!----></div></div></div></div></div></div></main></div><!----><div data-v-627a68d3><div style="width:100%; padding-bottom:30px; background-color:#1E88E5;" data-v-627a68d3><div class="flex logo-style" data-v-627a68d3><div data-v-627a68d3><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 2170 451' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-48fe12959b04fbca758ba00b1361f424'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-48fe12959b04fbca758ba00b1361f424)' width='2170' height='451' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAANCAYAAAAZr2hsAAAACXBIWXMAAC4jAAAuIwF4pT92AAAG60lEQVRIx51WCVBURxBdFhC5FNFoxCgajCbKwi6IgkdUDvEWjcZQQhQBCYYUxioRj0jUcERLxTuaaLziiVEQjQiKhlvk8haRqKhBU4g3Qf7fyeu/s%2b5H0KTyq15N93RP/%2b6enp5RHDZ9T0HfWYXuW207dBSNH/hvmu8cdoC5RiTVe0SnsSGxZ5lXQhEbvvIi847Nue8dl9OT9Hzico1pHJaQr9BqRckGY6KRnua8hLd9/yb/L2sYExT/69th7iQFsc1c3XeHZV%2b2xdJtAvGakJ3pHtGnmPuc1CMDF6QHfhyTGeq5NGvesGWFDIFf8o0rMJOCj88zkjmllNFOgLWMtwFcgF6AGnDW8UI3Q6IEDvFVUPpkarXCq2RSkvlcK%2bj0fD3ZpEt4fQP0slfJ22XWW/Gr2fsSvb9F94zUlo5sq5WLH/FeUzd3dpt1%2bIlH1LHbg2My2%2bt/gt2PG732GkPgu4gfvDDTSDEplQwruVOt4dRKJn2iu8y5LYxpGeRPQN8BbgOPobuNy40JFDBBn0yeFGND8MKr3QYfDDwEWshsKPWbAT0jQ/J0Ngx6kB03sZV2/5ix7ae5pnYMR2IP8RPHLTal0X3uoXGesfnMc2k281pyut4nLuulT3zOkxErytjodeXMNyF/LunN3nnehBvuBMNfY1yHsQyB6INwhxMVGFOBDMybQOcdwBawfHOZC82WNta0lu2uQ9PjIMqqUjCSy5vYy1KaW5wysriZbmSlPdmybQ%2baq3HrF/bcxWMe0eYBFWq7iOve9rNvedlH/ek1cGnRuBEJucOHJ%2bTnjl11gfnGZo/U20KQYxFcZ/ywDD8Kl/30IrARiIcsrbmAgEQgAsgFrkI3UCYPI5uw/Tvmc0B/CboHxlIgXv9vyBaDXw5cA9KBLjLfsEa4gDn4Im6Fru545rW0WFRpZsmyTCy%2bJb64v7vNQ43nvSteg1hukXojq3L4nlV0jmPXOsUJl%2bxiGVNYkF7bkN1pdjNTWJcZewKI33zickvubCCcuyUr00jdcRDozC8BngLrgYP6IHl/eA4HD/MeEQNaxGiOcShGLUY/6HuSJdChfN1O/KvKkCTp2IVzG5ehf5DLIqBXSUcSc/YYM4H9inOtzO1LbKxYobXl7cJ2XaWM3Og3Znldn/FsWZx7Q0KxK3tR7sJeXNWw2gtqVl/hxuqKu21QBB6eYxV5krWYujuJ1iz4pVQpK8k/yBm%2b8/6gV8PhQi6nXb4PLATWQj7WUAHCXei583UWQC3QA3O0qzmGnRSTwO/l9BTabW7jC6oSWdWEQn6J0zdg5yfY6wsMBD2HUqW43rnN0TsdbFhpK5tJpFjUf4KmUuXfkDZ5pHb6CTXzP6jJO5Sual9/rpfNmWMDOmKJTWB89CfWoQeYRdDeWtvQfdI9uj2rwpSXGbIvVPKfhoD2xpgMLDI0QvF4M0fAmifAm/O2cJ4SpcY4iqoD6A55R%2bAZ6Flcj3a73EALF2XHboauD1EyxQdABrAD2EMJhN21ikcOjimipwPTrjFzpkVlrkEnrnuEsKgt/eqD0zXsTJ76pnDNKbW6xCmJlXdoRTomUw/kWM78jVlO3yOVr%2buCo1LwLxsaqNmU46eTYfwz0BPpigPQ/EQkQlBhPhEONUkA5pAAsQrw5MG0Ae4CQzm/m98c1B/iZZ0%2bhPoFD5gq4HzjChDKOF0N%2bZQm3fSlIsBanNPuKUtU5ucOCgi62CuS/Rg5WpiS7sS%2bS9E8ri1xuvegWFV7J1%2blZZfsFyunJcdYR56i4PfReozKv568MOZBkAN/A/MQ6EQ%2bt5mcAmZyJ9dDdg%2bYzJ0Ph84Q8JaQPQI/TF8B1Csg88DYE6Dm9Q0PPkB/c0A%2bkxLD13xFpS5LAFXELU7PA%2bqA0XSsMEbRO0WnmGgyjsXbspw%2bweKhAWFieJILC0pRP5uf4qLRmdogZbvr5Chfi893MJuQXQ/Ng/Z3pLn24Qdw1zJj/pNttENw6iOZE7j2xCMI0FrvMO0KUIB5whXQyyE3BY0GKLjqjwTm6OioACvetY8Dm6jKqFlyvbFU0ty2H5W47AiMAXbK%2bGjIr%2buao3iUEqv4WbFKcj7bd%2bIPmR8uYTHxPiwgw4lty9A8a7jsdPpBqSr7fpEqp6akd%2baZZLcHGamebPN2P%2bl6i14dLN39qIBGd7P8RYiftm7ulfi2T/%2bCk61rATjK%2bGlADRJkLGuMb3x6N/NGMDCp7jOkB8MWxSPrNeODM6cnq2tmJWuqK/Kcax6WquqqzznW3StwfFGV6/j8fkGvurrS7itI/93gjTjvIPy2NnKav9SU8h/Jn666p6gof9I2mZOt0VcWGqFA/YHu/zQqedk1qGy8RmgU6GvPYZmuIL0S/wGYLJmIlQztVAAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="2170" data-src="/assets/static/uEngine_logo.91c82d7.d28931ee5f783778a460e9be66285c59.png" data-srcset="/assets/static/uEngine_logo.82a2fbd.d28931ee5f783778a460e9be66285c59.png 480w, /assets/static/uEngine_logo.cbab2cf.d28931ee5f783778a460e9be66285c59.png 1024w, /assets/static/uEngine_logo.91c82d7.d28931ee5f783778a460e9be66285c59.png 2170w" data-sizes="(max-width: 2170px) 100vw, 2170px" class="g-image g-image--lazy g-image--loading" data-v-627a68d3 data-v-627a68d3><noscript data-v-627a68d3 data-v-627a68d3><img src="/assets/static/uEngine_logo.91c82d7.d28931ee5f783778a460e9be66285c59.png" class="g-image g-image--loaded" width="2170"></noscript></div></div><div style="width:100%; text-align:center; font-size:14px; color:white; font-weight:300; line-height:1.5; padding-top:20px;" data-v-627a68d3><div data-v-627a68d3><div data-v-627a68d3><div class="footer-top-div" data-v-627a68d3>© MSA-Ez Authors 2024.  </div><div class="footer-top-div" data-v-627a68d3>© 2024 uEngine All rights reserved.</div></div><div data-v-627a68d3>
                    uEngine has registered trademarks and uses trademarks. and MSA-Ez is licensed under the GNU General Public License version 3.0.
                </div></div><div class="footer-bot" data-v-627a68d3><div data-v-627a68d3><a href="https://www.gnu.org/licenses/gpl-3.0.en.html#license-text" target="_blank" style="color:#fff;" data-v-627a68d3>
                        See LICENSE
                    </a>
                      |   
                </div><div data-v-627a68d3><a href="https://github.com/msa-ez/platform" target="_blank" style="color:#fff;" data-v-627a68d3>
                        Github Site
                    </a>
                      |   
                </div><div data-v-627a68d3>E-Mail: help@uengine.org</div></div></div></div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"markdownPage":{"id":"d45559b17510931858a8daefa5bbda0b","title":"Orchestration Saga with Axon Framework","description":"","path":"\u002Fdevelopment\u002Forchestration-saga\u002F","timeToRead":3,"content":"\u003Ch1 id=\"orchestration-saga-with-axon-framework\"\u003E\u003Ca href=\"#orchestration-saga-with-axon-framework\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOrchestration Saga with Axon Framework\u003C\u002Fh1\u003E\n\u003Ch2 id=\"axon-saga-labs\"\u003E\u003Ca href=\"#axon-saga-labs\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAxon Saga Labs\u003C\u002Fh2\u003E\n\u003Cp\u003E12st Mall 주문 프로세스를 Process Visibility가 높은 Orchestration 타입을 적용한다.\n기본적으로 생성된 템플릿 코드에 Biz 로직을 추가해 주문 프로세스가 동작하도록 코드를 완성해 본다.\u003C\u002Fp\u003E\n\u003Ch3 id=\"시나리오\"\u003E\u003Ca href=\"#%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E시나리오\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E주문 커맨드에 따라 OrderPlaced 이벤트가 생성된다.\u003C\u002Fli\u003E\n\u003Cli\u003EOrderPlaced 이벤트로 Order Saga 프로세스가 구동된다.\u003C\u002Fli\u003E\n\u003Cli\u003ESaga Process는 배송시작 커맨드를 호출하고 DeliveryStarted 이벤트를 생성한다.\u003C\u002Fli\u003E\n\u003Cli\u003E이어, 재고차감 커맨드가 호출되고 StockDecreased 이벤트를 생성한다.\u003C\u002Fli\u003E\n\u003Cli\u003E최종 주문상태를 업데이트하는 절차로 Saga Process는 종료된다.\u003C\u002Fli\u003E\n\u003Cli\u003E각 커맨드 호출시, 오류가 발생하면 이의 처리를 위해 Compensation Logic이 각각 실행된다. \u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"saga-modeling\"\u003E\u003Ca href=\"#saga-modeling\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESaga Modeling\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E모델 상단의 Fork 메뉴를 클릭한다.\u003C\u002Fli\u003E\n\u003Cli\u003E복제돤 모델을 다음과 같이 오케스트레이션 한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F229645326-3a24d5e3-81f3-4ecb-9e6f-2101302eb697.png\" alt=\"image\"\u003E\u003C\u002Fp\u003E\n\u003Ch4 id=\"process-orchestration---direction--label\"\u003E\u003Ca href=\"#process-orchestration---direction--label\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EProcess Orchestration ( \u003E direction, () Label)\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003EOrderPlaced \u003E Order Saga, (1.start)\u003C\u002Fli\u003E\n\u003Cli\u003EOrder Saga \u003E start delivery, (2)\u003C\u002Fli\u003E\n\u003Cli\u003EDeliveryStarted \u003E Order Saga, (3)\u003C\u002Fli\u003E\n\u003Cli\u003EOrder Saga \u003E decrease stock, (4)\u003C\u002Fli\u003E\n\u003Cli\u003EStockDecreased \u003E Order Saga, (5)\u003C\u002Fli\u003E\n\u003Cli\u003EOrder Saga \u003E update status, (6)\u003C\u002Fli\u003E\n\u003Cli\u003EOrderCompleted \u003E Order Saga, (7.end)\u003C\u002Fli\u003E\n\u003Cli\u003EOrder Saga \u003E order cancel, (2')\u003C\u002Fli\u003E\n\u003Cli\u003EOrder Saga \u003E cancel delivery, (4')\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"code-push--load-on-gitpod\"\u003E\u003Ca href=\"#code-push--load-on-gitpod\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECode Push &#x26; Load on GitPod\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003ECode Preview \u003E Git 아이콘을 눌러 내 Repository에 Push한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F229663138-ec1a8a2c-a50f-4c3c-ba4c-75c1ea9057ad.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F229649084-15d388b9-3246-43b2-956c-d1012f47ce12.png\" alt=\"image\"\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGitPod 환경에서 로딩한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F229649200-cd48e7fb-54bb-46af-9806-0f893d9375bb.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"axon-server\"\u003E\u003Ca href=\"#axon-server\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAxon Server\u003C\u002Fh3\u003E\n\u003Ch4 id=\"infra--docker-composeyml\"\u003E\u003Ca href=\"#infra--docker-composeyml\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003Einfra \u003E docker-compose.yml\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003EAxon Server는 대시보드를 위한 8024, 메시지 gRPC를 위한 8124 포트를 사용한다.\u003C\u002Fli\u003E\n\u003Cli\u003E각 서비스들의 Offset Token 관리를 위한 Token Store(MySQL)가 Lab 실행시 생성된다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"orchestration-code-completion\"\u003E\u003Ca href=\"#orchestration-code-completion\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOrchestration Code Completion\u003C\u002Fh2\u003E\n\u003Ch3 id=\"product-service\"\u003E\u003Ca href=\"#product-service\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EProduct Service\u003C\u002Fh3\u003E\n\u003Cp\u003E상품 Domain 코드에 Biz 로직을 완성한다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E재고 부족시 도메인 오류 발생코드를 추가한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E# ProductAggregate - @DecreaseStockCommand 재고부족시 Exception 발생 \n\tif(this.getStock() &lt; command.getStock()) throw new IllegalStateException(&quot;Out of Stock. !&quot;);  \u002F\u002F 코드추가\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003Eproduct \u003E ProductAggregate.java 내 다음 코드를 추가한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E# @EventSourcingHandler :: StockIncreasedEvent : \n    setStock(getStock() + event.getStock());  \u002F\u002F 코드추가\n\n#  @EventSourcingHandler :: StockDecreasedEvent : \n    setStock(getStock() - event.getStock());  \u002F\u002F 코드추가\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"order-service\"\u003E\u003Ca href=\"#order-service\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOrder Service\u003C\u002Fh3\u003E\n\u003Cp\u003E주문 Domain 코드에 Biz 로직을 완성한다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Eorder \u003E OrderAggregate.java 내 다음 코드를 추가한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E# @EventSourcingHandler :: OrderPlacedEvent :\n     setStatus(&quot;OrderPlaced&quot;); \t\t\t\u002F\u002F 코드추가\n# @EventSourcingHandler :: OrderCompletedEvent : \n     setStatus(&quot;OrderCompleted&quot;); \t\t\u002F\u002F 코드추가\n# @EventSourcingHandler :: OrderCancelledEvent :      \n      setStatus(&quot;OrderCancelled&quot;);\t\t\u002F\u002F 코드추가\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"delivery-service\"\u003E\u003Ca href=\"#delivery-service\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EDelivery Service\u003C\u002Fh3\u003E\n\u003Cp\u003E배송 Domain 코드에 Biz 로직을 완성한다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Edelivery \u003E DeliveryAggregate.java 내 다음 코드를 추가한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E# @EventSourcingHandler :: DeliveryStartedEvent :\n      setStatus(&quot;DeliveryStarted&quot;); \t\t\u002F\u002F 코드추가\n# @EventSourcingHandler :: DeliveryCancelledEvent : \n      setStatus(&quot;DeliveryCancelled&quot;); \t\t\u002F\u002F 코드추가\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"ordersaga\"\u003E\u003Ca href=\"#ordersaga\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOrderSaga\u003C\u002Fh3\u003E\n\u003Cp\u003E주문 오케스트레이션을 수행하도록 OrderSaga 코드를 완성한다.\u003C\u002Fp\u003E\n\u003Ch4 id=\"1-saga-start\"\u003E\u003Ca href=\"#1-saga-start\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E1. Saga Start\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003EOrderPlaced 이벤트로부터 Correlation key 설정 : 24 라인\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E\t@SagaEventHandler(associationProperty = &quot;orderId&quot;)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch4 id=\"2-배송시작-command-생성-및-호출--27라인\"\u003E\u003Ca href=\"#2-%EB%B0%B0%EC%86%A1%EC%8B%9C%EC%9E%91-command-%EC%83%9D%EC%84%B1-%EB%B0%8F-%ED%98%B8%EC%B6%9C--27%EB%9D%BC%EC%9D%B8\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E2. 배송시작 Command 생성 및 호출 : 27라인\u003C\u002Fh4\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ecommand.setOrderId(event.getOrderId());\ncommand.setProductId(event.getProductId());\ncommand.setQty(event.getQty());\ncommand.setUserId(event.getUserId());\n\n# 배송실패시, 주문취소 Compensation 처리 : OrderCancelCommand\norderCancelCommand.setOrderId(event.getOrderId());  \t\u002F\u002F 코드추가\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch4 id=\"3-deliverystartedevent-이벤트로부터-correlation-key-설정\"\u003E\u003Ca href=\"#3-deliverystartedevent-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EB%A1%9C%EB%B6%80%ED%84%B0-correlation-key-%EC%84%A4%EC%A0%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E3. DeliveryStartedEvent 이벤트로부터 Correlation key 설정\u003C\u002Fh4\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E\t@SagaEventHandler(associationProperty = &quot;orderId&quot;)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch4 id=\"4-재고차감-command-생성-및-호출\"\u003E\u003Ca href=\"#4-%EC%9E%AC%EA%B3%A0%EC%B0%A8%EA%B0%90-command-%EC%83%9D%EC%84%B1-%EB%B0%8F-%ED%98%B8%EC%B6%9C\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E4. 재고차감 Command 생성 및 호출\u003C\u002Fh4\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ecommand.setProductId(event.getProductId());\ncommand.setStock(event.getQty());\t\ncommand.setOrderId(event.getOrderId());\n\n# 재고차감 실패시, 배송취소 Compensation 처리 : CancelDeliveryCommand\ncancelDeliveryCommand.setDeliveryId(event.getDeliveryId());\t\u002F\u002F 코드추가\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch4 id=\"5-stockdecreasedevent-이벤트로부터-correlation-key-설정\"\u003E\u003Ca href=\"#5-stockdecreasedevent-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EB%A1%9C%EB%B6%80%ED%84%B0-correlation-key-%EC%84%A4%EC%A0%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E5. StockDecreasedEvent 이벤트로부터 Correlation key 설정\u003C\u002Fh4\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E\t@SagaEventHandler(associationProperty = &quot;orderId&quot;)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch4 id=\"6-주문완료-command-생성-및-호출\"\u003E\u003Ca href=\"#6-%EC%A3%BC%EB%AC%B8%EC%99%84%EB%A3%8C-command-%EC%83%9D%EC%84%B1-%EB%B0%8F-%ED%98%B8%EC%B6%9C\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E6. 주문완료 Command 생성 및 호출\u003C\u002Fh4\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ecommand.setOrderId(event.getOrderId());\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch4 id=\"7-saga-end\"\u003E\u003Ca href=\"#7-saga-end\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E7. Saga End\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003EOrderCompletedEvent 이벤트로부터 Correlation key 설정\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E\t@SagaEventHandler(associationProperty = &quot;orderId&quot;)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003ESaga Process 종료\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"12st-mall-테스트\"\u003E\u003Ca href=\"#12st-mall-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E12st Mall 테스트\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003ERest API를 활용해 생성된 Axon Saga 기반 몰을 테스트 한다.\u003C\u002Fli\u003E\n\u003Cli\u003E먼저 Common API를 빌드한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ecd common-api\nmvn clean install\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E각 마이크로 서비스를 실행한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E# new terminal\ncd order\nmvn clean spring-boot:run\n\n# new terminal\ncd product\nmvn clean spring-boot:run\n\n# new terminal\ncd delivery\nmvn clean spring-boot:run\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E상품서비스(:8082)에 테스트용 상품을 등록한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E# new terminal\nhttp POST :8082\u002Fproducts productName=TV stock=100\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E등록된 상품 Id를 복사해 둔다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F229345799-6a86743c-d3b1-43b7-9a94-91c4e50cfd9b.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E복사한 상품 Id로 10개의 TV를 구매하는 주문을 생성한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ehttp POST :8081\u002Forders productId=[상품 Id] productName=TV qty=10 userId=1001\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E생성된 주문 Id를 복사해 둔다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F229346264-89d2c227-5dc8-454d-acb0-1c24bc0da63d.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"12st-mall-saga-compensation-검증\"\u003E\u003Ca href=\"#12st-mall-saga-compensation-%EA%B2%80%EC%A6%9D\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E12st Mall Saga Compensation 검증\u003C\u002Fh2\u003E\n\u003Ch3 id=\"주문-생성\"\u003E\u003Ca href=\"#%EC%A3%BC%EB%AC%B8-%EC%83%9D%EC%84%B1\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E주문 생성\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E상품 Id로 100개의 TV를 구매하는 주문을 생성하고 주문번호를 복사해 두자.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ehttp POST :8081\u002Forders productId=[상품 Id] productName=TV qty=100 userId=1001\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E재고 개수(90)보다 많은 주문으로 상품서비스에서 오류를 리턴한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cul\u003E\n\u003Cli\u003E주문 번호로 생성된 주문의 최종 상태와 이벤트 이력을 조회해 본다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ehttp GET :8081\u002Forders\u002F[주문번호]\nhttp GET :8081\u002Forders\u002F[주문번호]\u002Fevents\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E배송서비스의 배송 상태를 조회해 본다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ehttp GET :8083\u002Fdeliveries\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"확장-미션---주문서비스-debugging\"\u003E\u003Ca href=\"#%ED%99%95%EC%9E%A5-%EB%AF%B8%EC%85%98---%EC%A3%BC%EB%AC%B8%EC%84%9C%EB%B9%84%EC%8A%A4-debugging\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E[확장 미션] - 주문서비스 Debugging\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E주문서비스를 종료한다.\u003C\u002Fli\u003E\n\u003Cli\u003EOrderSaga 에 SagaEventHandler별로 Break Points를 추가한다.\u003C\u002Fli\u003E\n\u003Cli\u003E주문서비스를 디버그 모드로 실행한다.\u003C\u002Fli\u003E\n\u003Cli\u003E새로운 주문을 생성한 다음 Debug Point를 확인하면서 Orchestration 흐름을 식별한다.\u003C\u002Fli\u003E\n\u003Cli\u003E재고보다 많은 수량을 넣어 Debug Point를 확인한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n","sidebar":"started","next":"","prev":"","headings":[{"depth":1,"value":"Orchestration Saga with Axon Framework","anchor":"#orchestration-saga-with-axon-framework"},{"depth":2,"value":"Axon Saga Labs","anchor":"#axon-saga-labs"},{"depth":3,"value":"시나리오","anchor":"#시나리오"},{"depth":3,"value":"Saga Modeling","anchor":"#saga-modeling"},{"depth":4,"value":"Process Orchestration ( \u003E direction, () Label)","anchor":"#process-orchestration---direction--label"},{"depth":4,"value":"Code Push & Load on GitPod","anchor":"#code-push--load-on-gitpod"},{"depth":3,"value":"Axon Server","anchor":"#axon-server"},{"depth":4,"value":"infra \u003E docker-compose.yml","anchor":"#infra--docker-composeyml"},{"depth":2,"value":"Orchestration Code Completion","anchor":"#orchestration-code-completion"},{"depth":3,"value":"Product Service","anchor":"#product-service"},{"depth":3,"value":"Order Service","anchor":"#order-service"},{"depth":3,"value":"Delivery Service","anchor":"#delivery-service"},{"depth":3,"value":"OrderSaga","anchor":"#ordersaga"},{"depth":4,"value":"1. Saga Start","anchor":"#1-saga-start"},{"depth":4,"value":"2. 배송시작 Command 생성 및 호출 : 27라인","anchor":"#2-배송시작-command-생성-및-호출--27라인"},{"depth":4,"value":"3. DeliveryStartedEvent 이벤트로부터 Correlation key 설정","anchor":"#3-deliverystartedevent-이벤트로부터-correlation-key-설정"},{"depth":4,"value":"4. 재고차감 Command 생성 및 호출","anchor":"#4-재고차감-command-생성-및-호출"},{"depth":4,"value":"5. StockDecreasedEvent 이벤트로부터 Correlation key 설정","anchor":"#5-stockdecreasedevent-이벤트로부터-correlation-key-설정"},{"depth":4,"value":"6. 주문완료 Command 생성 및 호출","anchor":"#6-주문완료-command-생성-및-호출"},{"depth":4,"value":"7. Saga End","anchor":"#7-saga-end"},{"depth":2,"value":"12st Mall 테스트","anchor":"#12st-mall-테스트"},{"depth":2,"value":"12st Mall Saga Compensation 검증","anchor":"#12st-mall-saga-compensation-검증"},{"depth":3,"value":"주문 생성","anchor":"#주문-생성"},{"depth":3,"value":" - 주문서비스 Debugging","anchor":"#확장-미션---주문서비스-debugging"}]},"allMarkdownPage":{"edges":[{"node":{"path":"\u002Ftool\u002Fon-prem-inst\u002F","title":"on-prem 설치 설명서"}},{"node":{"path":"\u002Ftool\u002Fsi-gpt\u002F","title":""}},{"node":{"path":"\u002Ftool\u002Finfrastructure-modeling\u002F","title":"인프라 모델링 (쿠버네티스)"}},{"node":{"path":"\u002Ftool\u002Fmodel-driven\u002F","title":"코드 생성"}},{"node":{"path":"\u002Ftool\u002Fsetup-on-prem\u002F","title":"Running on Docker Compose (with Github)"}},{"node":{"path":"\u002Ftool\u002Fgoogle-drive-examples\u002F","title":"Quick Start"}},{"node":{"path":"\u002Ftool\u002Fcloud-ide-tool\u002F","title":"클라우드 IDE"}},{"node":{"path":"\u002Ftool\u002Fmarketplace\u002F","title":"마켓플레이스"}},{"node":{"path":"\u002Ftool\u002Fk8s-modeling\u002F","title":"K8s 배포 모델링"}},{"node":{"path":"\u002Ftool\u002Fevent-storming-tool\u002F","title":"이벤트스토밍"}},{"node":{"path":"\u002Ftool\u002Fdevelopment-practice\u002F","title":"강의 개발 및 실습 환경"}},{"node":{"path":"\u002Ftool\u002Fchat-gpt\u002F","title":"ChatGPT 기반 모델 생성"}},{"node":{"path":"\u002Ftool\u002Fattending-lectures\u002F","title":"Attending lectures"}},{"node":{"path":"\u002Ftoppings\u002Ftest-unit\u002F","title":"Unit-Test"}},{"node":{"path":"\u002Ftemplates-language\u002Fgo-template\u002F","title":"Go Template"}},{"node":{"path":"\u002Ftoppings\u002Ftest-messaging\u002F","title":"Contract Test (비동기호출)"}},{"node":{"path":"\u002Ftoppings\u002Fcicd-git-action\u002F","title":"Github Action"}},{"node":{"path":"\u002Ftoppings\u002Ftest-microcks\u002F","title":"API Mock Server"}},{"node":{"path":"\u002Ftoppings\u002Ftest-contract\u002F","title":"Contract Test (동기호출)"}},{"node":{"path":"\u002Ftoppings\u002Fcicd-argo\u002F","title":"Argo"}},{"node":{"path":"\u002Ftoppings\u002Fk8s-kubernetes\u002F","title":"Kubernetes"}},{"node":{"path":"\u002Ftemplates-language\u002Fspringboot-java-template\u002F","title":"Spring Boot\u002FJava Template(준비중)"}},{"node":{"path":"\u002Ftemplates-language\u002Fpython-template\u002F","title":"Python Template "}},{"node":{"path":"\u002Fstarted\u002Fkey-features\u002F","title":"주요 기능"}},{"node":{"path":"\u002Fstarted\u002Fdomain-driven\u002F","title":"도메인 주도 설계 학습"}},{"node":{"path":"\u002Fstarted\u002Fevent-storming-learning\u002F","title":"이벤트스토밍 학습"}},{"node":{"path":"\u002Foperation\u002Fops-deploy-diagramming-basic-objects\u002F","title":"12st Mall Basic Deploy"}},{"node":{"path":"\u002Fstarted\u002F","title":"소개"}},{"node":{"path":"\u002Foperation\u002Fops-deploy-diagramming-advanced-istio\u002F","title":"Istio Mesh"}},{"node":{"path":"\u002Foperation\u002Fops-deploy-diagramming-advanced-ingress\u002F","title":"Ingress 배포모델 설계"}},{"node":{"path":"\u002Foperation\u002Fops-deploy-diagramming-advanced-hpa\u002F","title":"자동확장(HPA) 배포"}},{"node":{"path":"\u002Fcustom-template\u002Ftutorial\u002F","title":"커스텀 템플릿 개념"}},{"node":{"path":"\u002Foperation\u002Fops-deploy-diagramming-advanced-pvc\u002F","title":"Persistent Volume"}},{"node":{"path":"\u002Fexample-scenario\u002Fonline-lecture\u002F","title":"인터넷 강의수강 시스템"}},{"node":{"path":"\u002Finfo\u002Fconsulting\u002F","title":"컨설팅"}},{"node":{"path":"\u002Finfo\u002Fpartnership\u002F","title":"파트너 프로그램"}},{"node":{"path":"\u002Fexample-scenario\u002Flibrary-system\u002F","title":"도서관 시스템"}},{"node":{"path":"\u002Fexample-scenario\u002Fanimal-hospital\u002F","title":"동물병원 진료시스템"}},{"node":{"path":"\u002Fexample-scenario\u002Ffood-delivery\u002F","title":"음식배달"}},{"node":{"path":"\u002Fexample-scenario\u002Faccommodation-reservation\u002F","title":"숙소예약"}},{"node":{"path":"\u002Finfo\u002Fpricing\u002F","title":"가격 정책"}},{"node":{"path":"\u002Finfo\u002Fcompany\u002F","title":"기업 사례"}},{"node":{"path":"\u002Fcustom-template\u002Funit-test\u002F","title":"테스트 자동화"}},{"node":{"path":"\u002Fcustom-template\u002Funderstanding-template-structure\u002F","title":"템플릿 구조의 이해"}},{"node":{"path":"\u002Fcustom-template\u002Ftemplate-syntax\u002F","title":"Template 문법의 이해"}},{"node":{"path":"\u002Fcustom-template\u002Ftemplate-structure\u002F","title":"템플릿 파일 구조"}},{"node":{"path":"\u002Fcustom-template\u002Ftemplate-editor\u002F","title":"Template Editor"}},{"node":{"path":"\u002Fcustom-template\u002Ftemplate-editor-custom-template\u002F","title":"커스텀 템플릿 생성 방법"}},{"node":{"path":"\u002Fcustom-template\u002Fhelper\u002F","title":"Helper"}},{"node":{"path":"\u002Fcustom-template\u002Floop-conditional-statement\u002F","title":"반복문 & 조건문"}},{"node":{"path":"\u002Fcustom-template\u002Fcustom-template\u002F","title":"Eventstorming Template Objects"}},{"node":{"path":"\u002Fdevelopment\u002Funderstanding-jpa-based-single-microservice\u002F","title":"마이크로서비스 구현 및 동작원리 이해"}},{"node":{"path":"\u002Fcustom-template\u002Fmock-server\u002F","title":"Open API 3.0 기반 목 서버 생성 토핑(New)"}},{"node":{"path":"\u002Fcustom-template\u002Fglobal-helper\u002F","title":"Global Helper"}},{"node":{"path":"\u002Fcustom-template\u002Fdesigning-template-helper\u002F","title":"Built-in Helper functions"}},{"node":{"path":"\u002Fcustom-template\u002Fcreating-custom-template-1\u002F","title":"커스텀 템플릿 생성"}},{"node":{"path":"\u002Fdevelopment\u002Ftoken-based-auth\u002F","title":"JWT Token 기반 인증 인가"}},{"node":{"path":"\u002Fdevelopment\u002Fpubsub-idempotency\u002F","title":"Pub\u002FSub 방식의 연동 - Choreography with Idempotency"}},{"node":{"path":"\u002Fdevelopment\u002Fpubsub-deadline\u002F","title":"Pub\u002FSub 방식의 연동 - Choreography with Deadline added"}},{"node":{"path":"\u002Fdevelopment\u002Fops-docker\u002F","title":"Application Packaging with Container (Docker)"}},{"node":{"path":"\u002Fdevelopment\u002Fpub-sub\u002F","title":"Pub\u002FSub 방식의 연동 "}},{"node":{"path":"\u002Fdevelopment\u002Foauth2with-keycloak\u002F","title":"JWT Token 기반 인증 인가"}},{"node":{"path":"\u002Fdevelopment\u002Forchestration-saga\u002F","title":"Orchestration Saga with Axon Framework"}},{"node":{"path":"\u002Fdevelopment\u002Fkafka-scaling\u002F","title":"Kafka Scaling "}},{"node":{"path":"\u002Fdevelopment\u002Fkafka-scaling-concurrenty-handling\u002F","title":"Kafka scaling & Concurrenty handling"}},{"node":{"path":"\u002Fdevelopment\u002Fmonolith-2-misvc\u002F","title":"Req\u002FRes 방식의 MSA 연동 "}},{"node":{"path":"\u002Fdevelopment\u002Fkafka-retry-dlq\u002F","title":"Kafka Retry & Dead Letter Queue "}},{"node":{"path":"\u002Fdevelopment\u002Fkafka-connect\u002F","title":"CDC(Change Data Capture) with Kafka"}},{"node":{"path":"\u002Fdevelopment\u002Fgateway\u002F","title":"API Gateway"}},{"node":{"path":"\u002Fdevelopment\u002Fdp-graphql\u002F","title":"Data Projection with GraphQL"}},{"node":{"path":"\u002Fdevelopment\u002Fdp-cqrs\u002F","title":"Data Projection with CQRS"}},{"node":{"path":"\u002Fdevelopment\u002Fkafka-basic\u002F","title":"Kafka 기본 명령어 "}},{"node":{"path":"\u002Fdevelopment\u002Fcontract-test\u002F","title":"Contract Test (Consumer Driven Test)"}},{"node":{"path":"\u002Fdevelopment\u002Fdp-frontend\u002F","title":"Data Projection with Frontend and HATEOAS"}},{"node":{"path":"\u002Fdevelopment\u002Fcompensation-correlation\u002F","title":"Pub\u002FSub 방식의 연동 - Compensation 과 Correlation"}},{"node":{"path":"\u002Fdevelopment\u002Fchoreography-saga\u002F","title":"Choreography Saga"}},{"node":{"path":"\u002Fdevelopment\u002Fconteact-messaging\u002F","title":"Conteact Test by Message-based CDC"}},{"node":{"path":"\u002Fbusiness\u002F","title":"이벤트스토밍"}},{"node":{"path":"\u002Fdevelopment\u002Fcircuit-breaker\u002F","title":"Req\u002FRes 방식에서 장애전파 차단 - 서킷브레이커 "}},{"node":{"path":"\u002Fdevelopment\u002Fcna-start\u002F","title":"단위 마이크로 서비스의 실행 "}},{"node":{"path":"\u002Fcontact\u002Fquestion\u002F","title":"CONTACT"}},{"node":{"path":"\u002Fbusiness\u002Feventstorming-fooddelivery\u002F","title":"[이벤트스토밍] - DDD Food Delivery 예제"}},{"node":{"path":"\u002Fbusiness\u002Fddd-google-drive\u002F","title":"[이벤트스토밍] - 구글 드라이브 예제"}}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.3452cdad.js" defer></script><script src="/assets/js/page--src-templates-markdown-page-vue.300acc31.js" defer></script>
  </body>
</html>
