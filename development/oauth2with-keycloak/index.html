<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>JWT Token 기반 인증 인가 - msaez</title><meta name="gridsome:hash" content="d98a89b9c49d316dfd18c110c6c3bd1d105b19b3"><meta data-vue-meta="ssr" charset="utf-8"><meta data-vue-meta="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-meta="ssr" key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-meta="ssr" key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/templates-language/springboot-java-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/setup-on-prem/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/templates-language/python-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/on-prem-inst/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-hpa/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-ingress/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-istio/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-pvc/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-basic-objects/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/marketplace/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/started/key-features/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/infrastructure-modeling/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/understanding-jpa-based-single-microservice/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/templates-language/go-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/google-drive-examples/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/understanding-template-structure/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/event-storming-tool/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/unit-test/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/token-based-auth/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/started/event-storming-learning/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/template-syntax/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/cloud-ide-tool/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/development-practice/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/tutorial/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/started/domain-driven/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/chat-gpt/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/example-scenario/online-lecture/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/attending-lectures/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/pub-sub/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/pubsub-deadline/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/pubsub-idempotency/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/contact/question/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/oauth2with-keycloak/"><meta data-vue-meta="ssr" name="description" content="undefined"><meta data-vue-meta="ssr" key="og:title" name="og:title" content="JWT Token 기반 인증 인가"><meta data-vue-meta="ssr" key="twitter:title" name="twitter:title" content="JWT Token 기반 인증 인가"><meta data-vue-meta="ssr" key="og:description" name="og:description" content="undefined"><meta data-vue-meta="ssr" key="twitter:description" name="twitter:description" content="undefined"><meta data-vue-meta="ssr" key="og:type" name="og:type" content="website"><meta data-vue-meta="ssr" key="twitter:card" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" key="og:image" name="og:image" content="undefined/logo.jpg"><meta data-vue-meta="ssr" key="twitter:image" name="twitter:image" content="undefined/logo.jpg"><link data-vue-meta="ssr" rel="icon" href="data:,"><link data-vue-meta="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-meta="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-meta="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-meta="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-meta="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-meta="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-meta="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-meta="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.f0886199c685a75a52fccefb5e72c094.png"><link rel="preload" href="/assets/css/0.styles.6c7a9fb7.css" as="style"><link rel="preload" href="/assets/js/app.cf5748bd.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--markdown-page-vue.253de995.js" as="script"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.75d4f714.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.99e3f524.js"><link rel="prefetch" href="/assets/js/search.506552c8.js"><link rel="prefetch" href="/assets/js/vendors~search.1cb8046c.js"><link rel="stylesheet" href="/assets/css/0.styles.6c7a9fb7.css"><noscript data-vue-meta="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="font-sans antialiased text-ui-typo bg-ui-background"><div class="flex flex-col justify-start min-h-screen"><header class="sticky top-0 z-10 w-full border-b bg-ui-background border-ui-border"><div class="py-2 border-t-2 border-ui-primary"><div class="container"><div class="flex items-center justify-between -mx-2 sm:-mx-4"><div class="flex flex-col items-center px-2 mr-auto sm:px-4 sm:flex-row"><a href="/" title="Home" class="flex items-center text-ui-primary active"><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 120 64' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-37afcb0017f229c304bfe602273e7d7c'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-37afcb0017f229c304bfe602273e7d7c)' width='120' height='64' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAiCAYAAADvVd%2bPAAAACXBIWXMAAC4jAAAuIwF4pT92AAATu0lEQVRo3sVZB3RU15lWIxhscMtunHhd8EkcJzFusb1xwMaAuoQkpFEFUWQwzXEMAQSYElFEkVCbGUmjikZdIJBAqIxmRgUJVRAqmGLABQdwTBDqZebdb/97Z0YIO1nvnrN7mHO%2b89/35pX5vvu3e8fKij69eQ4C48ffg7UZNgK5DrY9ufZ2wtJ5qwfw0cirrDSKahuCrRk0rrKuUFRb05h/Z1VhukZcP378g09vnr2VmZwtR4/Z8nNE9Ed/DAlhRfdM%2bS7X/QXkv/rWtrQ6R2cVW%2bSVNBDkoRoK9EwaCvBMGvQn60fwJcgIPnRuvkfSkBeNPWns4aEadCfrRseudN5lvmrAZU6SZJ%2bobA/Ry3XLyhXV7xPBXxGRh/%2b731PxQ3FsK%2bTi2Fojrx4TQtievP8BQSJHBJ8h%2bzrBje5ZQTaMhEulcTmN2%2bn7G925zgNS/n9K0enF3S5qwC8T8LFAfT9kZojjDMDbgkP34ENwIySnXkNraiN0CfUgAQbph39DaCQyeWT3EuHlhDk0/hXZx36MDxdovOUEnyC8SiQcyS4mbOnNtY8nW0K2lfAFobc/3wGGo05AsTNwwpXgBlbsIs4NHXZEb74zjPnvQJ2ROmKvgmF%2bUr%2bBZpQwZKDZFdaLjt0T%2bgyO8l6jo7zP6KzoNXok9hvpvJG8xUjXE8iqBgXck4alQ8ozxiq5zkAeIFUqa6BPqENNUiPqU1twOu0M6lKaUa06DRJghEhdJ9tMOMzFISwjOBB%2bTZh6T4Tq%2b1w4khU5Y6DAETjuQsRcTJbIGY%2b5YOiIM/oLnECCMAoJqTfP0XA3Z67hTsYfCTMMPbkORvpO6s51Yoa8P7JydTgcVWBeSf2MCDEiT3aI7ACzVwyyoBywtSVg60%2bCfXQcbH46mKNigK7n1wyJe4g8m0fH3nTPYUUj08n1jGafaUyQiKiRrIGsoeSgxngiUiOVx%2bpRlViPWhKHi3I6tZVEahXnuDiEvxHOE%2baYQ8DGIsBfOGma5REiQoTsDdxyknfVfzT2Z8%2bQutUzGHkI4yLczX6fjRx1ZWjczFC3FgN5c0iYuexunhNG8mayM1l/Zm4qIycCQSZpCB6JA5iXNIq4GiNi0ouxdsNWfLx2Azbt2IeUomZsLQOclIMgTwCJABIANPsIVPWgRFGLSnkVd39OBERaCFEep4dGXsM6T1xkFzRXWP2hFlYarZPoOyMXhgtEiZFbqVJRA62yFo3pbXR/tbNZAFshAM2gB3djImck8pwkiDyjmWcjDXvw93oFjLXr0Zv9Pj%2bPkWIvdGiS4ecfiDVr/oRvT8WiP3c2unMd2WDeLFzNCWZ%2bSXfZPNUwF0CQcoofRkLNABb6eYJeeR9%2bYm2FvZFyfFQEOCv76XqTAK5JI1iWeJtIVnHS4wWgcRU0cdVo03ZgzUdr4ObuhqK8YjTlnEVptNbiKXQvt0IwSdwrckjVS9/zAPtX%2b4h0r2WGcx2I0CzcOhUHV68ATHniKWzf8VdIdZvxj5RXITXtwRyne0T2hG0FqpbhH%2br30Jdnj9u57vgg%2bSu4qIxEZgDOij6sJnI790aZ77HGc88/D4c5s/DitKfFueAAH%2bypAubG9QnBvEgAZ/KYtYk3QBVAkK8wk9coq3EiogIXyj/Hnz7%2b09jvePq5X%2bBM5TlUxJgEEteaReMC8NxB9ibhSbMA1pYk%2bBTh9iDlAB7Ld7LeB8p9kZW4995M2U5GV2UyjHnv4FZNFJ5%2b/sWx75xc3IGG7ejOeAc9FAaDebOxPvUcnFQM3skDsCdSYVrAV%2bYtrqe3Iv%2b4Hse%2bBGLKbmK3IhcJFX%2bDd6oB81Q8bIaEAE4kwLaEL1Aj16LcLAAnw12/WtUA/YkqTJg4QQg6wW6CePaRjKOoS21GWaxuPHnuAcYauodE6Rgrg5ZEaK77nZYwuJNJAlQEID0uTDx00kMThd26eQNQvxJtxfsxYfLj45R/EX%2bvjUZ/9kx05zljNG8mDqSVw0FF5SypHw7yPoRSjK9eY5otG1tbTJ/%2bCjaHxyO%2b/BtENwMOCRLcE/oFeUqaYx5wIP7iPQHGzf4l3VX4%2bvmanmdjAzs7O7M3huNsQSdORlWOCVAhNwlwKrmJH580l0BrSx9gY06EpbwSmAVgqAhEauxO8VA7O1thX3jpFaArGcXJ2%2bnYZlwc/wS1R6IgFbngdraj8JJDhw5hLglApVAkQK9UBrXmMn75H0/cF///9thD%2bGjVCiTV9sFNNUKxPyBEsOQAaoJQZRaAk%2bEzW5/WguL847CyNj3DP8Afb775phgHBgbifNlllERqxvKFWQgDrwpklUIARZWtEIB3fOYwUPLSx7P/ncxZgCYIqqi/iodOmGAnwMe1ZflIVR4Q45df/h0ef/wxMY4O/xTQLsJ3mbNFL1Cq3sdLIcWzKam5xvcjOJshobgD/rL5eOZnj90nxKrlS7GbwsRe3i9yABeAyiCylS0iB5TLq8Xsl0RocKn6Khwc7cV9EydOxMWOi/Dy9BLHr73xKs5VdKIsalwIiKpRZeA9Ax1vMMe/ncUDzALYrxWl0CQAQ%2bVCKCO2i4c%2b9dTP4OnhIcZLQ5ZhY2ioGIeGbsK7774rxgEBgZQHNuN2xkyM5L%2bHlqy1cFeNjlUB14RBEgDYcwpQtALyir9jx/54/PQJUyg9%2begkJJR9SbNOiVM1IMjLVP04qjgNrVwv4v9kdCWas9qQmZo1JpyrmytGuw1YtWKVOJ7y6BToi2qgU9bR7OvHl00j7w/oOf7fL4G25hDwko5ZQoALEIy4/dtMbvrTJ3HsWLGItUcfnYpp06aJ88XHCvHh8uVi/NL036O7LhI9WTOpL5iNKzmLIEvqhQfVcj77Kw8DyowiBPnLsDu%2bENHlt1F%2b5hZeefm34v5HH54A5YmLmJfCSIB%2bCodhLErsRin1ABpz7Jce1OJCzWW88ebrYwLYUfKbNu15PPPsM2PnUpSpaFJTOYzRmgQwlUGmja/lx3%2bwlECzBzjYmEPgDXMZxJ3M9xh35%2bjwreKBDz00Cd9c6YCri5M56ViLHHCp/ggU%2b03XTJryBGs7GQdDoT3rz7dnd3Jd2AfJX1MzY2C8tMnrgHffnm66n/D8009i6iOTxn60y5wZiKk2Yq58kHknk8ckG9kq1W1mnn1WElXJ2g6fR1yU3PQMaxtMpOQ8cfLEsWfY2ppy1bpP1qG96AKoQxyrAryF1pjWEc9YSqBoh3vNy1kS4t8pHLoHqKcnASRol7DI3Z9ayOFWSzYKUvaPvWzi1J%2bhpzUJukyRKBlHbPgmSOXB0lfy6axAsYknM9ENcg9YXgCosk7gtd88B7txsT/RlsjPnQl15efwPcTYvERqiVW8ctyR1sZclKoVep4AWUVsFdprOjHtxWlj9xYVFAt3z07JwY6tOzB58mRTWXZ2wnmNSIRi5ikEJF0CD4mqL%2bj4ke/3AJZ22I7GF0YKnXFH/a4E/VIWtuUT88sm4sLJfRhqjMCiZWvw%2b7dnQBF7EJJ%2bNb6sjMD7rv7s3VmzkZGWIn2e4YfCXZ6QJXZL85JHqAz2Md4LuJAIHx6h2NcPIiK7CfsT8nFAVYD4oy2IqzVAdshIOWOAucXdwtwdTdI721vx6f561MRXSWWiqalmLaVtKMopRtS%2baCTGJ6L95GfQxp0S/f71MzcoDF8Sv3fq41PRUNLMKuNqxMxTCzzK1wZE%2bizn2nTo3L29Ab7eH/OCXIdyvrojDzCgcjGRjMKvf/caZEEhuF4bj%2bH8WaIbNDbuAXTL0JM5A/0ngjHaEoEbpaHSxewQtOz%2bzTerFU2pjqnU28cbpbnxYPbxIHIGeCTcxaK0r7D%2byDdYkAsEZQGeKcCcGAluSgN5DHWCu65Is7e04q3QlvbMyLq6hsRGEBGpMo5qeUw1TiU3oyW7HWfyO6gk6kWio4UQTqkboSmqRPS%2bGGzaFMpOVzSxshgdjkeVGYoiS8V1ZHdxnof3FtmMXwqLRsg8TuCVQCyG8p1Yb00Yhhv2AY3bMXDMB3ezqd9Xz8DdjD9wkajrcyQRZqEn/Q%2bs/q/TUfHpa7i2Y/J7ATmG5esKv8POww2G5JJjrESbgDP12/F162o20uWDr5rWMO%2b0a8yn8DjzP6JBwJEa5lvQAN%2b8s8w9vgLOUSfhrM5aWnjo%2bMky9SkUJdJqL0HLSuN1KJPrGFUDgXEZHnwlSJ0ea8lpZ53FF3E0%2bgSTr08YTd2WAcWGxMHotfLFltnftTL8BxsetuY8sMHSC4hFURatANXvsDu8xc2ZLdYJRJrgxFeGUm%2bBg9RX7MJ6S93ZdfKcm1r324aLvvqecwu6Bzr8YOhwZaxjDkPnbOAzdxjPe8Jw3oN1t4Vg5dFTWFC9E0uqd7HF1buwuHo3FmjD2ELdHgTrw43Bur1scdVBLNVFsg%2b0B7FCE81Wl8fiz6UKdlRVYdDKawyU3fmqT7q3OtQxnvmPR5Qb4zcmSenbMxEfmtSYuDnlRc6vOaPdOnz1/vs3Q3pMe34WD5hvpFJI5EfFyjDPicPA1/9mUfi6H/0FDhjimyM6dwx/JmPD52Ug4ky67A9c8QEuuAGfyxi%2bDgFuUvt8YyOGaeYHO2VsiOxohz/bUZrd76eNYot1kQjWRrIg3QGsaVVhdUsiW96oQMjpWCyoiWB%2bleEkyAG2UH8AgVX72BJ9JDTqOjSmnEVtciP0CfWoVIryxpOdQRd/auRY5EmoNqciYVNypGWSlRtVdiSGZXzfbpDYD7SUwkGqAhyjtC7grTHfFLFskBiPibUCx0BPtv3XfSddLnHyQ50%2bBBkG2z0Zu7bG2H01RTpTk4Dighi2J2wD2xW2DX1XDmCkcx4b6PQDzntJmQ1/OS/TRklLiViQbj%2bLbi6APCuZRWUmQHE4nSmLM5i6rpjtbctDYCV5gz6SPCUSIdqDdwuTyg9o42oyyANqiTjP7AN8rc/zQ2P6WaRtU9%2bKWadws5An4rYW4hYRvh8C1mb7C8JNwrdUEtvJaqk6ZJDdTZ7C9wE9qGN8m1z/%2bW8/fMVu6Jz3NCI/NEoiDLR7M1wJRIM%2bFT9/5mXKxrb3St0jv8D1LjWkC57o7/BlJADyGz8xkAAsuHIvVjQpWUZR3n2t8aQJEzHJegKiE%2bVY15aKQE24tLQumnvD1fv29xRVD5EAz9KMzqCMv6AkWrOZZv9Z/l3iphRbImxtFsGKPOKfbxJaNkaJHN8ZfpaOn6Txj253D1/yfWi4S3YFl/3Q1%2bYp4cYKpCbsFgR%2b%2b9uXUHQkFV2tJzB6tw34ZiMGzrmxwS7hAexQw3r4aKNAHsACdfsQ1VoAZX4aEnLTsHLlyjEhFNkpWNOSiCDNXuPS%2bhgs0kV05aaW2DUcbLQ5mJfzL3%2bjZdZ/lPz4rfF/5hm8U%2bTrBfresl1u03vUyXqg1kOEDQmgwxcB3AOMuBbIasqU4oe//tprqNEeQUzEpwhe4IfTmjjgajDr455yfj7i60MZCUAxfQCL9BHMXxOO1W0q6L48g7feMK3swnaGIfryccjKKUnqI408LwTrIk7z966siLVWqQutzP8BUFdXZVOpqLE9GVNpm/xpuhAmb0/hjxO/rxka/ydI7g//IOkR5%2bytyO05caEwxb4KXwVisENmYBe92NWzKkx%2b5Kc/2PZKT9oPXF%2bBvnNeYF3z2cG6LYxCAEIASoABur3Iv6DHrHdmiuuXLQlB2tVK%2bFRw8hFE/IAxpCGOi1XO30vWms5ZBBC/nxKgFVUBq5xdBeK4cP/x/59/ZYY7ZWMCkP2ECzDU6WsY6XRF3zUFXvilqedXxh3A9YslGL7TAgwVstHz89kgJUzpMx8WXreN%2bVJ5W0qzL9PshvqaDouCFor7fLy8UXyjCX41%2b3gCFB5CZA0fNMZxIXL5e8nacAEeyIdI3xOgU%2baKq/4Y6vI1Dp5zZrh5EHPmmhZN0ZF7kK%2bOwIchPliyZAn7x6VYIj%2bP3WnxxpbqHQjURzH/it3Y1ZWHzVu3iHsmP/wwktNSkFqej3R9Idvdms0CtXt5CIwua1ZwMUQaX1QVaUtjqwf2IQFEDhjqkv2OavzoyHlf9J11ZfhuB1auWvP9EGDP/fItfNGexq5o5qC2wElaVblrMLg6iuJ7J1NeKkGgt98PwoZewLLKjmBZo1xaoNk3%2bkGTHEFl4aH8vUGle2wftAdYm8Y%2bU2l8Q7roR3nARyJLeSCJ7dgWyhTR21FRFMsutaaykb%2blse5ziw1njs6G9qjHroCq6Mshp6K4S0tLa6JYWlsJk%2belsMg0BYtMjGWb92xnO8J3Ql5fYHTP3Ajv7C20tF471ti4xn/8QGd/DObjRlzxp25PZhzsmM%2bki74Svv2LETc/MuDLhQZc8jZKn7kZBju80JA3J/vnl5unUOLrXVwVyV3asFC73xig32dY3qQwfNSqMmxoPzS6uTPTsPVCzohfcRhcEv4Mt8RPVo%2bRV5rIU1l8sCJQNbAxVwI1rvnzjnB4hJoi4wVfsAteprb4C2qPPydcDcTNBq/O9t9Y/URWp3xhMWX/pXUx4M1NSEMsd3MsJcux%2bDQ1PHVRWNQQDc%2bM0H4X5ccu/D00tvVI3yA8z0sdahV4YveDE2BIVAIfO7MYu3B3MXhDRCIY6PjWcJdvM9kcQhghkM7/J7uyYAq/fr12%2b%2bRgfcTvyQveJw9wpzAIIruKsJGwkxBD3pG2sGJfjkfahtf5PfPS1tvNS1on3u2mWmvlmbLe6oF/7uUB2duErQR3wnTCo//qnqpyX5v/7Xvck9eNdXWc/P/l578AjufF27Pdj9IAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="120" data-src="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png" data-srcset="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png 120w" data-sizes="(max-width: 120px) 100vw, 120px" class="text-ui-primary g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png" class="text-ui-primary g-image g-image--loaded" width="120"></noscript></a></div><div class="w-full px-2 sm:px-4 max-w-screen-xs"><!----></div><div class="flex items-center justify-end px-2 sm:px-4"><!----><!----><!----><div class=".clearfix" style="width:250px;"><div style="width:55px; height:50px; text-align:center; line-height:50px; font-weight:700; float:left;"><a style="cursor:pointer;">한국어</a></div><div style="width:50px; height:50px; text-align:center; line-height:50px; float:left; padding-top: 5px;"><button aria-label="Toggle Darkmode" title="Toggle Darkmode"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div><div style="margin-left: -15px; width:130px; height:50px; text-align:center; line-height:50px; float:left;"><a href="http://labs.msaez.io/" target="_blank" rel="noopener" class="px-4 py-2 ml-auto font-bold leading-none text-white rounded-lg shadow-lg bg-ui-primary">
              실습하기
            </a></div></div></div></div></div></div></header><main class="container relative flex flex-wrap justify-start flex-1 w-full bg-ui-background"><!----><div class="w-full pb-24"><div class="flex flex-wrap items-start justify-start"><div class="order-2 w-full md:w-1/3 sm:pl-4 md:pl-6 lg:pl-8 sticky" style="top:4rem;"><div class="mt-8 sm:pl-4 md:pl-6 md:pt-12 lg:pl-8 sm:pb-16 sm:border-l border-ui-border md:mt-0"><h3 class="pt-0 mt-0 text-sm tracking-wide uppercase border-none">On this page</h3><div><ul><li class="font-semibold depth-2"><a href="/development/oauth2with-keycloak/#jwt기반-인증-w-keycloak" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          JWT기반 인증 w/ Keycloak
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/development/oauth2with-keycloak/#이벤트스토밍-모델-준비" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          이벤트스토밍 모델 준비
        </a></li><li class="depth-3"><a href="/development/oauth2with-keycloak/#keycloak-토핑설정-및-코드-푸쉬" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Keycloak 토핑설정 및 코드 푸쉬
        </a></li><li class="depth-3"><a href="/development/oauth2with-keycloak/#keycloak-server-실행" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Keycloak Server 실행
        </a></li><li class="depth-4"><a href="/development/oauth2with-keycloak/#keycloak-서버-오픈-및-접속하기" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Keycloak 서버 오픈 및 접속하기
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/development/oauth2with-keycloak/#oauth-client-설정" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          OAuth Client 설정
        </a></li><li class="depth-3"><a href="/development/oauth2with-keycloak/#keycloak-설정" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Keycloak 설정
        </a></li><li class="depth-3"><a href="/development/oauth2with-keycloak/#oauth-client-설정-1" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          OAuth Client 설정
        </a></li><li class="depth-3"><a href="/development/oauth2with-keycloak/#gateway-client-설정" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Gateway Client 설정
        </a></li><li class="depth-3"><a href="/development/oauth2with-keycloak/#test-user-생성" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Test User 생성
        </a></li><li class="depth-3"><a href="/development/oauth2with-keycloak/#keycloak-sso-test" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Keycloak SSO Test
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/development/oauth2with-keycloak/#token-based-authentication-테스트" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Token based Authentication 테스트
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/development/oauth2with-keycloak/#token-based-authorization-테스트" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Token based Authorization 테스트
        </a></li><li class="depth-3"><a href="/development/oauth2with-keycloak/#order-resouces-권한-확인" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Order Resouces 권한 확인
        </a></li><li class="depth-3"><a href="/development/oauth2with-keycloak/#사용자-jwt-token-확인" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          사용자 JWT Token 확인
        </a></li></ul></div></div></div><div class="order-1 w-full md:w-2/3"><div class="content"><h1 id="jwt-token-기반-인증-인가"><a href="#jwt-token-%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80" aria-hidden="true"><span class="icon icon-link"></span></a>JWT Token 기반 인증 인가</h1>
<p>마이크로서비스와 OAuth2 구성요소인 Authorization Server/ Client/ Resource Server를 활용해 Single Sign-On 구현 모형을 실습한다. 단일 접점인 Gateway가 Client가 되고, 각 마이크로서비스가 Resource Server에 해당된다. 그리고 Authorization Server로는 Keycloak을 활용한다. 본 랩에서는 Gateway가 Client와 Resource Server역할을 가진다.</p>
<h2 id="jwt기반-인증-w-keycloak"><a href="#jwt%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D-w-keycloak" aria-hidden="true"><span class="icon icon-link"></span></a>JWT기반 인증 w/ Keycloak</h2>
<ul>
<li>OAuth2.0 기반의 Spring Security와 Resource Owner, Client, Authorization Server, Resource Server간의 인증/인가를 실습한다.</li>
<li>JWT기반 Access_Token을 활용한다.</li>
<li>인증/인가 서버로 Keycloak(<a href="https://www.keycloak.org/" target="_blank" rel="noopener noreferrer">https://www.keycloak.org/</a>) 서버를 활용한다.</li>
</ul>
<h2 id="이벤트스토밍-모델-준비"><a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8%EC%8A%A4%ED%86%A0%EB%B0%8D-%EB%AA%A8%EB%8D%B8-%EC%A4%80%EB%B9%84" aria-hidden="true"><span class="icon icon-link"></span></a>이벤트스토밍 모델 준비</h2>
<ul>
<li>아래 모델을 새 탭에서 로딩한다.
<a href="https://www.msaez.io/#/storming/labshopoauthkeycloak-0821" target="_blank" rel="noopener noreferrer">모델 링크 : https://www.msaez.io/#/storming/labshopoauthkeycloak-0821</a></li>
<li>브라우져에 모델이 로딩되지 않으면, 우측 상단의 (사람모양) 아바타 아이콘을 클릭하여 <strong>반드시</strong> 깃헙(Github) 계정으로 로그인 후, 리로드 한다.</li>
<li>아래처럼 렙에 필요한 이벤트스토밍 기본 모델이 출력된다.</li>
<li>로딩된 모델은 우측 팔레트 영역에 스티커 목록이 나타나지 않는다. 상단 메뉴영역에서 포크 아이콘(FORK)을 클릭해 주어진 모델을 복제한다.
<img src="https://github.com/acmexii/demo/assets/35618409/08eb03f8-c7e3-42e8-a13c-4d473de56f1a" alt="image"></li>
<li>우측 팔레트 영역에 스티커 목록들이 나타나는 것이 확인된다.</li>
</ul>
<h3 id="keycloak-토핑설정-및-코드-푸쉬"><a href="#keycloak-%ED%86%A0%ED%95%91%EC%84%A4%EC%A0%95-%EB%B0%8F-%EC%BD%94%EB%93%9C-%ED%91%B8%EC%89%AC" aria-hidden="true"><span class="icon icon-link"></span></a>Keycloak 토핑설정 및 코드 푸쉬</h3>
<ul>
<li>우측 상단의 "CODE" 버튼을 눌러 "TOPPINGS"를 클릭한다.</li>
<li>'Oauth by Keycloak'이 체크되어 있어야 한다.</li>
<li>
<p>상단의 'Push to Git' 메뉴를 클릭해 나타나는 다이얼로그 박스에서 'Create New Repository'를 선택하고, 'CREATE'를 누른다.</p>
<blockquote>
<p>초기 Github 계정으로 로그인 하였으므로, 나의 Git 정보가 자동으로 표시된다.
<img src="https://github.com/acmexii/demo/assets/35618409/557f256e-9949-4546-bcde-d3d405f448df" alt="image"></p>
</blockquote>
</li>
<li>모델 기반 코드가 내 Github에 푸쉬된다.
<img src="https://github.com/acmexii/demo/assets/35618409/6581f400-adb8-4963-bf03-511d459c5e32" alt="image"></li>
<li>좌측 메뉴 'IDE'를 누른다음, Cloud IDE 목록에서 'Open GitPod'를 클릭한다.</li>
</ul>
<h3 id="keycloak-server-실행"><a href="#keycloak-server-%EC%8B%A4%ED%96%89" aria-hidden="true"><span class="icon icon-link"></span></a>Keycloak Server 실행</h3>
<ul>
<li>Cloud IDE 터미널에서 keycloak 폴더로 이동하여 컨테이너를 생성하고 및 Keycloak 서버를 실행한다.</li>
</ul>
<pre class="language-sh"><code class="language-sh">cd keycloak
docker-compose up -d</code></pre>
<ul>
<li>Keycloak이 사용하는 9090 포트가 목록에 나타난다.</li>
</ul>
<h4 id="keycloak-서버-오픈-및-접속하기"><a href="#keycloak-%EC%84%9C%EB%B2%84-%EC%98%A4%ED%94%88-%EB%B0%8F-%EC%A0%91%EC%86%8D%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="icon icon-link"></span></a>Keycloak 서버 오픈 및 접속하기</h4>
<ul>
<li>오른쪽 하단의 포트 목록을 눌러 keycloak이 사용하는 9090 포트를 Public으로 오픈한다. (두번째 자물쇠)
<img src="https://user-images.githubusercontent.com/35618409/215235038-8e362605-75b5-4271-923d-d2c0cd3fffbf.png" alt="image"></li>
<li>첫 번째 아이콘을 클릭하여, KeyCloak의 풀 URL을 클립보드에 복사한다.</li>
<li>Keycloak 마지막 브라우저 아이콘을 눌러, 웹 브라우저에서 접속해 보자.</li>
<li>Administration Console을 클릭해 설정된 관리자 정보(admin / admin)로 로그인한다.
<img src="https://user-images.githubusercontent.com/35618409/190956899-9c7efca3-04ac-4f11-851c-1e199debaa02.png" alt="image"></li>
<li>Keycloak 메인 화면이 아래와 같이 출력된다.
<img src="https://user-images.githubusercontent.com/35618409/190957013-3a6669d9-0928-498b-9529-cbac6fad8cd5.png" alt="image"></li>
</ul>
<h2 id="oauth-client-설정"><a href="#oauth-client-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="icon icon-link"></span></a>OAuth Client 설정</h2>
<h3 id="keycloak-설정"><a href="#keycloak-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="icon icon-link"></span></a>Keycloak 설정</h3>
<ul>
<li>Master Realm에서 'Tokens' 탭을 눌러 Access Token Lifespan을 1시간으로 수정한다.</li>
<li>수정 후, 하단의 'Save' 를 눌러 저장한다.</li>
</ul>
<h3 id="oauth-client-설정-1"><a href="#oauth-client-%EC%84%A4%EC%A0%95-1" aria-hidden="true"><span class="icon icon-link"></span></a>OAuth Client 설정</h3>
<ul>
<li>Keycloak 서버의 왼쪽메뉴에서 Clients를 눌러 12stmall 을 추가한다.
<img src="https://user-images.githubusercontent.com/35618409/190959198-145da6e6-f82d-412c-843c-9f5caf47c09e.png" alt="image">
</li>
<li>등록된 Client 설정에서 Access Type을 confidential로 설정한다.
<img src="https://user-images.githubusercontent.com/35618409/190959505-5adf84bf-cda5-4cd9-ba90-e8c7d806a8dc.png" alt="image">
</li>
<li>아래에 있는 Valid Redirect URIs 설정에 다음과 같이 입력한다.</li>
<li>규칙 : Gateway Endpoint URL + /login/oauth2/code/ + ClientId(12stmall)</li>
<li>오른쪽 하단의 포트목록을 눌러 keycloak이 사용하는 9090 포트의 첫번째 URL 복사 아이콘을 클릭한다.</li>
<li>GitPod에서는 이처럼 포트로 시작하는 도메인 정보로 노출된다. 이 9090을 게이트웨이 포트인 8088로 바꾸자.<br>
<img src="https://user-images.githubusercontent.com/35618409/191009706-1033fa72-194b-4806-b9e7-33cffcffcf42.png" alt="image"></li>
<li>Valid Redirect URIs 정보는 이후 Gateway에도 추가한다.</li>
<li>저장 후, Credentials 탭을 확인하면 Secret(비밀번호)이 확인되는데 이는 이후 Gateway에도 추가한다.
<img src="https://user-images.githubusercontent.com/35618409/190960454-9348d122-30d3-49b0-b63d-6389107a305e.png" alt="image">
</li>
</ul>
<h3 id="gateway-client-설정"><a href="#gateway-client-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="icon icon-link"></span></a>Gateway Client 설정</h3>
<ul>
<li>Keycloak Client설정에 필요한 아래 템플릿 환경정보를 설정한다.</li>
<li>Gateway > applicaion.yml 8라인에 KeyCloak SSO 서버의 엔드포인트를 설정한다.</li>
</ul>
<pre class="language-text"><code class="language-text">keycloak-client:
  server-url: https://9090-acmexii-labshopoauthkey-sgn5ady40al.ws-us94.gitpod.io
  realm: master</code></pre>
<blockquote>
<p>server-url 값의 맨뒤에 / 가 없도록 주의한다.</p>
</blockquote>
<ul>
<li>Spring OAuth2 Security 설정을 마무리한다.</li>
</ul>
<pre class="language-text"><code class="language-text">  security:
    oauth2:
      client:
        provider:
          keycloak:
            issuer-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}
            user-name-attribute: preferred_username
        registration:
          keycloak:
            client-id: &quot;&lt;client-id&gt;&quot;
            client-secret: 
            redirect-uri: &quot;gateway-path/login/oauth2/code/client-name&quot;
            authorization-grant-type: authorization_code
            scope: openid
      resourceserver:
        jwt:
          jwk-set-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/certs</code></pre>
<blockquote>
<p>51라인에 OAuth Client value인 12stmall 입력
52라인에 KeyCloakd에 생성된 client-secret 입력
53라인에 KeyCloakd에 설정한 redirect-uri 입력 </p>
</blockquote>
<h3 id="test-user-생성"><a href="#test-user-%EC%83%9D%EC%84%B1" aria-hidden="true"><span class="icon icon-link"></span></a>Test User 생성</h3>
<ul>
<li>Keycloak 서버의 왼쪽 메뉴에서 Manage > Users를 눌러 사용자를 등록한다.
<img src="https://user-images.githubusercontent.com/35618409/190961205-3c69d45e-2705-4ba2-af18-edbff2f57bf4.png" alt="image"></li>
<li>user@naver.com 으로 저장한다.</li>
<li>등록한 사용자의 Credentials 탭에서 비밀번호를 설정하고, Temporary를 OFF로 한 다음 설정한다.
<img src="https://user-images.githubusercontent.com/35618409/190961449-1acc3c93-f448-42be-8b6e-dd6f4c99ac20.png" alt="image"></li>
</ul>
<ul>
<li>동일한 방식으로 admin@naver.com도 생성해 두자.</li>
</ul>
<h3 id="keycloak-sso-test"><a href="#keycloak-sso-test" aria-hidden="true"><span class="icon icon-link"></span></a>Keycloak SSO Test</h3>
<ul>
<li>Gateway와 마이크로서비스를  재시작한다.</li>
</ul>
<pre class="language-text"><code class="language-text">cd gateway
mvn clean spring-boot:run</code></pre>
<ul>
<li>실행된 Gateway 서비스도 외부에서 접속이 가능하도록 GitPod에서 8088 Port를 오픈한다.
<img src="https://user-images.githubusercontent.com/35618409/190962087-a82b9e08-0cde-4d28-8e10-05cd89c938ea.png" alt="image"></li>
<li>마이크로서비스를 시작한다.</li>
</ul>
<pre class="language-text"><code class="language-text">cd order
mvn clean spring-boot:run</code></pre>
<ul>
<li>다음의 오류 발생시, 새 터미널에서 kafka를 시작한다.</li>
</ul>
<pre class="language-text"><code class="language-text">Broker may not be available.
2022-09-19 06:43:53.548  WARN [monolith,,,] 5204 --- [| adminclient-2] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-2] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.</code></pre>
<pre class="language-text"><code class="language-text">cd kafka
docker-compose up -d</code></pre>
<h2 id="token-based-authentication-테스트"><a href="#token-based-authentication-%ED%85%8C%EC%8A%A4%ED%8A%B8" aria-hidden="true"><span class="icon icon-link"></span></a>Token based Authentication 테스트</h2>
<ul>
<li>크롬의 Secret 창 또는 다른 브라우저(Edge, 네이버웨일)에서 Gateway를 경유하는 Order서비스에 접속해 본다.</li>
</ul>
<pre class="language-text"><code class="language-text">https://8088-acmexii-labshopmonolith-orw1glcgvae.ws-us65.gitpod.io/orders
(Gateway URL need to be modified)</code></pre>
<ul>
<li>비인가된 Resource 접근으로 Keycloak SSO 로그인 창이 나타난다.
<img src="https://user-images.githubusercontent.com/35618409/190966067-a39781e6-87bc-47e6-9688-eea7f7f7cd86.png" alt="image"></li>
<li>관리콘솔에서 등록한 사용자(user@naver.com / 1)로 인증한다.</li>
<li>인증 성공 후, 주문서비스의 응답이 정상적으로 출력된다.</li>
</ul>
<h2 id="token-based-authorization-테스트"><a href="#token-based-authorization-%ED%85%8C%EC%8A%A4%ED%8A%B8" aria-hidden="true"><span class="icon icon-link"></span></a>Token based Authorization 테스트</h2>
<ul>
<li>특정 API를 권한을 가진 사용자만 접근할 수 있도록 권한(CUSTOMER, ADMIN)을 생성한다.
<img src="https://user-images.githubusercontent.com/35618409/236124984-ce3f8568-bded-4bf8-b6cd-27baa11f0452.png" alt="image"></li>
<li>생성된 사용자에 각각 Role을 매핑한다.</li>
<li>User > admin@naver.com를 선택하고, Role Mappings를 클릭한다.
<img src="https://user-images.githubusercontent.com/35618409/236125504-a42fb63f-8c95-450c-b275-036e815a0630.png" alt="image"></li>
<li>Realm Roles에 있는 ADMIN 권한을 Assign 한다.</li>
<li>마찬가지 방법으로 user@naver.com 사용자에게 CUSTOMER 권한을 Assign 한다.</li>
</ul>
<h3 id="order-resouces-권한-확인"><a href="#order-resouces-%EA%B6%8C%ED%95%9C-%ED%99%95%EC%9D%B8" aria-hidden="true"><span class="icon icon-link"></span></a>Order Resouces 권한 확인</h3>
<ul>
<li>브라우저에서 주문 리소스에 user@naver.com 사용자로 접속해 본다.</li>
</ul>
<pre class="language-text"><code class="language-text">https://8088-acmexii-labshopmonolith-orw1glcgvae.ws-us65.gitpod.io/orders/placeOrder</code></pre>
<ul>
<li>이어서, 주문관리 리소스에 접속해 본다.</li>
</ul>
<pre class="language-text"><code class="language-text">https://8088-acmexii-labshopmonolith-orw1glcgvae.ws-us65.gitpod.io/orders/manageOrder</code></pre>
<p>user@naver.com의 권한으로는 접근이 불가능하여 정제되지 않은 403 오류가 리턴된다.
<img src="https://user-images.githubusercontent.com/35618409/236128025-33798965-23ae-4922-87a0-32435b0a2597.png" alt="image"></p>
<h3 id="사용자-jwt-token-확인"><a href="#%EC%82%AC%EC%9A%A9%EC%9E%90-jwt-token-%ED%99%95%EC%9D%B8" aria-hidden="true"><span class="icon icon-link"></span></a>사용자 JWT Token 확인</h3>
<ul>
<li>다음 URL로 접속하여 사용자 토큰 정보를 확인하고 전체 토큰값을 복사한다. (아래 URL에서 내 Gateway 정보로 수정한다.)</li>
</ul>
<pre class="language-text"><code class="language-text">https://8088-acmexii-labshopmonolith-orw1glcgvae.ws-us65.gitpod.io/test/token</code></pre>
<ul>
<li><a href="https://jwt.io/" target="_blank" rel="noopener noreferrer">https://jwt.io/</a> 에 접속후 나타나는 Encoded Token에 복사한 토큰을 붙여넣는다.
<img src="https://user-images.githubusercontent.com/35618409/236128936-454e2550-8c74-4dd2-b31f-39014ab856da.png" alt="image"></li>
<li>Decoded Token의 Payload에서 User Claim의 Role확인이 가능하다.</li>
</ul>
</div><div class="mt-8 pt-8 lg:mt-12 lg:pt-12 border-t border-ui-border"><div><div class="flex flex-col sm:flex-row justify-between items-center"><!----><!----></div></div></div></div></div></div></main></div><!----><div data-v-792b27e8><div style="width:100%; padding-bottom:30px; background-color:#1E88E5;" data-v-792b27e8><div class="flex logo-style" data-v-792b27e8><div data-v-792b27e8><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 331 174' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-37afcb0017f229c304bfe602273e7d7c'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-37afcb0017f229c304bfe602273e7d7c)' width='331' height='174' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAiCAYAAADvVd%2bPAAAACXBIWXMAAC4jAAAuIwF4pT92AAATu0lEQVRo3sVZB3RU15lWIxhscMtunHhd8EkcJzFusb1xwMaAuoQkpFEFUWQwzXEMAQSYElFEkVCbGUmjikZdIJBAqIxmRgUJVRAqmGLABQdwTBDqZebdb/97Z0YIO1nvnrN7mHO%2b89/35pX5vvu3e8fKij69eQ4C48ffg7UZNgK5DrY9ufZ2wtJ5qwfw0cirrDSKahuCrRk0rrKuUFRb05h/Z1VhukZcP378g09vnr2VmZwtR4/Z8nNE9Ed/DAlhRfdM%2bS7X/QXkv/rWtrQ6R2cVW%2bSVNBDkoRoK9EwaCvBMGvQn60fwJcgIPnRuvkfSkBeNPWns4aEadCfrRseudN5lvmrAZU6SZJ%2bobA/Ry3XLyhXV7xPBXxGRh/%2b731PxQ3FsK%2bTi2Fojrx4TQtievP8BQSJHBJ8h%2bzrBje5ZQTaMhEulcTmN2%2bn7G925zgNS/n9K0enF3S5qwC8T8LFAfT9kZojjDMDbgkP34ENwIySnXkNraiN0CfUgAQbph39DaCQyeWT3EuHlhDk0/hXZx36MDxdovOUEnyC8SiQcyS4mbOnNtY8nW0K2lfAFobc/3wGGo05AsTNwwpXgBlbsIs4NHXZEb74zjPnvQJ2ROmKvgmF%2bUr%2bBZpQwZKDZFdaLjt0T%2bgyO8l6jo7zP6KzoNXok9hvpvJG8xUjXE8iqBgXck4alQ8ozxiq5zkAeIFUqa6BPqENNUiPqU1twOu0M6lKaUa06DRJghEhdJ9tMOMzFISwjOBB%2bTZh6T4Tq%2b1w4khU5Y6DAETjuQsRcTJbIGY%2b5YOiIM/oLnECCMAoJqTfP0XA3Z67hTsYfCTMMPbkORvpO6s51Yoa8P7JydTgcVWBeSf2MCDEiT3aI7ACzVwyyoBywtSVg60%2bCfXQcbH46mKNigK7n1wyJe4g8m0fH3nTPYUUj08n1jGafaUyQiKiRrIGsoeSgxngiUiOVx%2bpRlViPWhKHi3I6tZVEahXnuDiEvxHOE%2baYQ8DGIsBfOGma5REiQoTsDdxyknfVfzT2Z8%2bQutUzGHkI4yLczX6fjRx1ZWjczFC3FgN5c0iYuexunhNG8mayM1l/Zm4qIycCQSZpCB6JA5iXNIq4GiNi0ouxdsNWfLx2Azbt2IeUomZsLQOclIMgTwCJABIANPsIVPWgRFGLSnkVd39OBERaCFEep4dGXsM6T1xkFzRXWP2hFlYarZPoOyMXhgtEiZFbqVJRA62yFo3pbXR/tbNZAFshAM2gB3djImck8pwkiDyjmWcjDXvw93oFjLXr0Zv9Pj%2bPkWIvdGiS4ecfiDVr/oRvT8WiP3c2unMd2WDeLFzNCWZ%2bSXfZPNUwF0CQcoofRkLNABb6eYJeeR9%2bYm2FvZFyfFQEOCv76XqTAK5JI1iWeJtIVnHS4wWgcRU0cdVo03ZgzUdr4ObuhqK8YjTlnEVptNbiKXQvt0IwSdwrckjVS9/zAPtX%2b4h0r2WGcx2I0CzcOhUHV68ATHniKWzf8VdIdZvxj5RXITXtwRyne0T2hG0FqpbhH%2br30Jdnj9u57vgg%2bSu4qIxEZgDOij6sJnI790aZ77HGc88/D4c5s/DitKfFueAAH%2bypAubG9QnBvEgAZ/KYtYk3QBVAkK8wk9coq3EiogIXyj/Hnz7%2b09jvePq5X%2bBM5TlUxJgEEteaReMC8NxB9ibhSbMA1pYk%2bBTh9iDlAB7Ld7LeB8p9kZW4995M2U5GV2UyjHnv4FZNFJ5%2b/sWx75xc3IGG7ejOeAc9FAaDebOxPvUcnFQM3skDsCdSYVrAV%2bYtrqe3Iv%2b4Hse%2bBGLKbmK3IhcJFX%2bDd6oB81Q8bIaEAE4kwLaEL1Aj16LcLAAnw12/WtUA/YkqTJg4QQg6wW6CePaRjKOoS21GWaxuPHnuAcYauodE6Rgrg5ZEaK77nZYwuJNJAlQEID0uTDx00kMThd26eQNQvxJtxfsxYfLj45R/EX%2bvjUZ/9kx05zljNG8mDqSVw0FF5SypHw7yPoRSjK9eY5otG1tbTJ/%2bCjaHxyO%2b/BtENwMOCRLcE/oFeUqaYx5wIP7iPQHGzf4l3VX4%2bvmanmdjAzs7O7M3huNsQSdORlWOCVAhNwlwKrmJH580l0BrSx9gY06EpbwSmAVgqAhEauxO8VA7O1thX3jpFaArGcXJ2%2bnYZlwc/wS1R6IgFbngdraj8JJDhw5hLglApVAkQK9UBrXmMn75H0/cF///9thD%2bGjVCiTV9sFNNUKxPyBEsOQAaoJQZRaAk%2bEzW5/WguL847CyNj3DP8Afb775phgHBgbifNlllERqxvKFWQgDrwpklUIARZWtEIB3fOYwUPLSx7P/ncxZgCYIqqi/iodOmGAnwMe1ZflIVR4Q45df/h0ef/wxMY4O/xTQLsJ3mbNFL1Cq3sdLIcWzKam5xvcjOJshobgD/rL5eOZnj90nxKrlS7GbwsRe3i9yABeAyiCylS0iB5TLq8Xsl0RocKn6Khwc7cV9EydOxMWOi/Dy9BLHr73xKs5VdKIsalwIiKpRZeA9Ax1vMMe/ncUDzALYrxWl0CQAQ%2bVCKCO2i4c%2b9dTP4OnhIcZLQ5ZhY2ioGIeGbsK7774rxgEBgZQHNuN2xkyM5L%2bHlqy1cFeNjlUB14RBEgDYcwpQtALyir9jx/54/PQJUyg9%2begkJJR9SbNOiVM1IMjLVP04qjgNrVwv4v9kdCWas9qQmZo1JpyrmytGuw1YtWKVOJ7y6BToi2qgU9bR7OvHl00j7w/oOf7fL4G25hDwko5ZQoALEIy4/dtMbvrTJ3HsWLGItUcfnYpp06aJ88XHCvHh8uVi/NL036O7LhI9WTOpL5iNKzmLIEvqhQfVcj77Kw8DyowiBPnLsDu%2bENHlt1F%2b5hZeefm34v5HH54A5YmLmJfCSIB%2bCodhLErsRin1ABpz7Jce1OJCzWW88ebrYwLYUfKbNu15PPPsM2PnUpSpaFJTOYzRmgQwlUGmja/lx3%2bwlECzBzjYmEPgDXMZxJ3M9xh35%2bjwreKBDz00Cd9c6YCri5M56ViLHHCp/ggU%2b03XTJryBGs7GQdDoT3rz7dnd3Jd2AfJX1MzY2C8tMnrgHffnm66n/D8009i6iOTxn60y5wZiKk2Yq58kHknk8ckG9kq1W1mnn1WElXJ2g6fR1yU3PQMaxtMpOQ8cfLEsWfY2ppy1bpP1qG96AKoQxyrAryF1pjWEc9YSqBoh3vNy1kS4t8pHLoHqKcnASRol7DI3Z9ayOFWSzYKUvaPvWzi1J%2bhpzUJukyRKBlHbPgmSOXB0lfy6axAsYknM9ENcg9YXgCosk7gtd88B7txsT/RlsjPnQl15efwPcTYvERqiVW8ctyR1sZclKoVep4AWUVsFdprOjHtxWlj9xYVFAt3z07JwY6tOzB58mRTWXZ2wnmNSIRi5ikEJF0CD4mqL%2bj4ke/3AJZ22I7GF0YKnXFH/a4E/VIWtuUT88sm4sLJfRhqjMCiZWvw%2b7dnQBF7EJJ%2bNb6sjMD7rv7s3VmzkZGWIn2e4YfCXZ6QJXZL85JHqAz2Md4LuJAIHx6h2NcPIiK7CfsT8nFAVYD4oy2IqzVAdshIOWOAucXdwtwdTdI721vx6f561MRXSWWiqalmLaVtKMopRtS%2baCTGJ6L95GfQxp0S/f71MzcoDF8Sv3fq41PRUNLMKuNqxMxTCzzK1wZE%2bizn2nTo3L29Ab7eH/OCXIdyvrojDzCgcjGRjMKvf/caZEEhuF4bj%2bH8WaIbNDbuAXTL0JM5A/0ngjHaEoEbpaHSxewQtOz%2bzTerFU2pjqnU28cbpbnxYPbxIHIGeCTcxaK0r7D%2byDdYkAsEZQGeKcCcGAluSgN5DHWCu65Is7e04q3QlvbMyLq6hsRGEBGpMo5qeUw1TiU3oyW7HWfyO6gk6kWio4UQTqkboSmqRPS%2bGGzaFMpOVzSxshgdjkeVGYoiS8V1ZHdxnof3FtmMXwqLRsg8TuCVQCyG8p1Yb00Yhhv2AY3bMXDMB3ezqd9Xz8DdjD9wkajrcyQRZqEn/Q%2bs/q/TUfHpa7i2Y/J7ATmG5esKv8POww2G5JJjrESbgDP12/F162o20uWDr5rWMO%2b0a8yn8DjzP6JBwJEa5lvQAN%2b8s8w9vgLOUSfhrM5aWnjo%2bMky9SkUJdJqL0HLSuN1KJPrGFUDgXEZHnwlSJ0ea8lpZ53FF3E0%2bgSTr08YTd2WAcWGxMHotfLFltnftTL8BxsetuY8sMHSC4hFURatANXvsDu8xc2ZLdYJRJrgxFeGUm%2bBg9RX7MJ6S93ZdfKcm1r324aLvvqecwu6Bzr8YOhwZaxjDkPnbOAzdxjPe8Jw3oN1t4Vg5dFTWFC9E0uqd7HF1buwuHo3FmjD2ELdHgTrw43Bur1scdVBLNVFsg%2b0B7FCE81Wl8fiz6UKdlRVYdDKawyU3fmqT7q3OtQxnvmPR5Qb4zcmSenbMxEfmtSYuDnlRc6vOaPdOnz1/vs3Q3pMe34WD5hvpFJI5EfFyjDPicPA1/9mUfi6H/0FDhjimyM6dwx/JmPD52Ug4ky67A9c8QEuuAGfyxi%2bDgFuUvt8YyOGaeYHO2VsiOxohz/bUZrd76eNYot1kQjWRrIg3QGsaVVhdUsiW96oQMjpWCyoiWB%2bleEkyAG2UH8AgVX72BJ9JDTqOjSmnEVtciP0CfWoVIryxpOdQRd/auRY5EmoNqciYVNypGWSlRtVdiSGZXzfbpDYD7SUwkGqAhyjtC7grTHfFLFskBiPibUCx0BPtv3XfSddLnHyQ50%2bBBkG2z0Zu7bG2H01RTpTk4Dighi2J2wD2xW2DX1XDmCkcx4b6PQDzntJmQ1/OS/TRklLiViQbj%2bLbi6APCuZRWUmQHE4nSmLM5i6rpjtbctDYCV5gz6SPCUSIdqDdwuTyg9o42oyyANqiTjP7AN8rc/zQ2P6WaRtU9%2bKWadws5An4rYW4hYRvh8C1mb7C8JNwrdUEtvJaqk6ZJDdTZ7C9wE9qGN8m1z/%2bW8/fMVu6Jz3NCI/NEoiDLR7M1wJRIM%2bFT9/5mXKxrb3St0jv8D1LjWkC57o7/BlJADyGz8xkAAsuHIvVjQpWUZR3n2t8aQJEzHJegKiE%2bVY15aKQE24tLQumnvD1fv29xRVD5EAz9KMzqCMv6AkWrOZZv9Z/l3iphRbImxtFsGKPOKfbxJaNkaJHN8ZfpaOn6Txj253D1/yfWi4S3YFl/3Q1%2bYp4cYKpCbsFgR%2b%2b9uXUHQkFV2tJzB6tw34ZiMGzrmxwS7hAexQw3r4aKNAHsACdfsQ1VoAZX4aEnLTsHLlyjEhFNkpWNOSiCDNXuPS%2bhgs0kV05aaW2DUcbLQ5mJfzL3%2bjZdZ/lPz4rfF/5hm8U%2bTrBfresl1u03vUyXqg1kOEDQmgwxcB3AOMuBbIasqU4oe//tprqNEeQUzEpwhe4IfTmjjgajDr455yfj7i60MZCUAxfQCL9BHMXxOO1W0q6L48g7feMK3swnaGIfryccjKKUnqI408LwTrIk7z966siLVWqQutzP8BUFdXZVOpqLE9GVNpm/xpuhAmb0/hjxO/rxka/ydI7g//IOkR5%2bytyO05caEwxb4KXwVisENmYBe92NWzKkx%2b5Kc/2PZKT9oPXF%2bBvnNeYF3z2cG6LYxCAEIASoABur3Iv6DHrHdmiuuXLQlB2tVK%2bFRw8hFE/IAxpCGOi1XO30vWms5ZBBC/nxKgFVUBq5xdBeK4cP/x/59/ZYY7ZWMCkP2ECzDU6WsY6XRF3zUFXvilqedXxh3A9YslGL7TAgwVstHz89kgJUzpMx8WXreN%2bVJ5W0qzL9PshvqaDouCFor7fLy8UXyjCX41%2b3gCFB5CZA0fNMZxIXL5e8nacAEeyIdI3xOgU%2baKq/4Y6vI1Dp5zZrh5EHPmmhZN0ZF7kK%2bOwIchPliyZAn7x6VYIj%2bP3WnxxpbqHQjURzH/it3Y1ZWHzVu3iHsmP/wwktNSkFqej3R9Idvdms0CtXt5CIwua1ZwMUQaX1QVaUtjqwf2IQFEDhjqkv2OavzoyHlf9J11ZfhuB1auWvP9EGDP/fItfNGexq5o5qC2wElaVblrMLg6iuJ7J1NeKkGgt98PwoZewLLKjmBZo1xaoNk3%2bkGTHEFl4aH8vUGle2wftAdYm8Y%2bU2l8Q7roR3nARyJLeSCJ7dgWyhTR21FRFMsutaaykb%2blse5ziw1njs6G9qjHroCq6Mshp6K4S0tLa6JYWlsJk%2belsMg0BYtMjGWb92xnO8J3Ql5fYHTP3Ajv7C20tF471ti4xn/8QGd/DObjRlzxp25PZhzsmM%2bki74Svv2LETc/MuDLhQZc8jZKn7kZBju80JA3J/vnl5unUOLrXVwVyV3asFC73xig32dY3qQwfNSqMmxoPzS6uTPTsPVCzohfcRhcEv4Mt8RPVo%2bRV5rIU1l8sCJQNbAxVwI1rvnzjnB4hJoi4wVfsAteprb4C2qPPydcDcTNBq/O9t9Y/URWp3xhMWX/pXUx4M1NSEMsd3MsJcux%2bDQ1PHVRWNQQDc%2bM0H4X5ccu/D00tvVI3yA8z0sdahV4YveDE2BIVAIfO7MYu3B3MXhDRCIY6PjWcJdvM9kcQhghkM7/J7uyYAq/fr12%2b%2bRgfcTvyQveJw9wpzAIIruKsJGwkxBD3pG2sGJfjkfahtf5PfPS1tvNS1on3u2mWmvlmbLe6oF/7uUB2duErQR3wnTCo//qnqpyX5v/7Xvck9eNdXWc/P/l578AjufF27Pdj9IAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="331" data-src="/assets/static/logo.34ff00f.bd727e13501e82a0ba322b4ad29fd33a.png" data-srcset="/assets/static/logo.34ff00f.bd727e13501e82a0ba322b4ad29fd33a.png 331w" data-sizes="(max-width: 331px) 100vw, 331px" class="g-image g-image--lazy g-image--loading" data-v-792b27e8 data-v-792b27e8><noscript data-v-792b27e8 data-v-792b27e8><img src="/assets/static/logo.34ff00f.bd727e13501e82a0ba322b4ad29fd33a.png" class="g-image g-image--loaded" width="331"></noscript></div></div><div style="width:100%; text-align:center; font-size:14px; color:white; font-weight:300; line-height:1.5; padding-top:20px;" data-v-792b27e8><div data-v-792b27e8><div data-v-792b27e8><div class="footer-top-div" data-v-792b27e8>© MSA-Ez Authors 2023.  </div><div class="footer-top-div" data-v-792b27e8>© 2023 uEngine All rights reserved.</div></div><div data-v-792b27e8>
                    uEngine has registered trademarks and uses trademarks. and MSA-Ez is licensed under the GNU General Public License version 3.0.
                </div></div><div class="footer-bot" data-v-792b27e8><div data-v-792b27e8><a href="https://www.gnu.org/licenses/gpl-3.0.en.html#license-text" target="_blank" style="color:#fff;" data-v-792b27e8>
                        See LICENSE
                    </a>
                      |   
                </div><div data-v-792b27e8><a href="https://github.com/msa-ez/platform" target="_blank" style="color:#fff;" data-v-792b27e8>
                        Github Site
                    </a>
                      |   
                </div><div data-v-792b27e8>E-Mail: help@uengine.org</div></div></div></div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"markdownPage":{"id":"4cf4209d2325d07d12f0b8752dd5411b","title":"JWT Token 기반 인증 인가","description":"","path":"\u002Fdevelopment\u002Foauth2with-keycloak\u002F","timeToRead":8,"content":"\u003Ch1 id=\"jwt-token-기반-인증-인가\"\u003E\u003Ca href=\"#jwt-token-%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EJWT Token 기반 인증 인가\u003C\u002Fh1\u003E\n\u003Cp\u003E마이크로서비스와 OAuth2 구성요소인 Authorization Server\u002F Client\u002F Resource Server를 활용해 Single Sign-On 구현 모형을 실습한다. 단일 접점인 Gateway가 Client가 되고, 각 마이크로서비스가 Resource Server에 해당된다. 그리고 Authorization Server로는 Keycloak을 활용한다. 본 랩에서는 Gateway가 Client와 Resource Server역할을 가진다.\u003C\u002Fp\u003E\n\u003Ch2 id=\"jwt기반-인증-w-keycloak\"\u003E\u003Ca href=\"#jwt%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D-w-keycloak\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EJWT기반 인증 w\u002F Keycloak\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003EOAuth2.0 기반의 Spring Security와 Resource Owner, Client, Authorization Server, Resource Server간의 인증\u002F인가를 실습한다.\u003C\u002Fli\u003E\n\u003Cli\u003EJWT기반 Access_Token을 활용한다.\u003C\u002Fli\u003E\n\u003Cli\u003E인증\u002F인가 서버로 Keycloak(\u003Ca href=\"https:\u002F\u002Fwww.keycloak.org\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ehttps:\u002F\u002Fwww.keycloak.org\u002F\u003C\u002Fa\u003E) 서버를 활용한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"이벤트스토밍-모델-준비\"\u003E\u003Ca href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8%EC%8A%A4%ED%86%A0%EB%B0%8D-%EB%AA%A8%EB%8D%B8-%EC%A4%80%EB%B9%84\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E이벤트스토밍 모델 준비\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E아래 모델을 새 탭에서 로딩한다.\n\u003Ca href=\"https:\u002F\u002Fwww.msaez.io\u002F#\u002Fstorming\u002Flabshopoauthkeycloak-0821\" target=\"_blank\" rel=\"noopener noreferrer\"\u003E모델 링크 : https:\u002F\u002Fwww.msaez.io\u002F#\u002Fstorming\u002Flabshopoauthkeycloak-0821\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E브라우져에 모델이 로딩되지 않으면, 우측 상단의 (사람모양) 아바타 아이콘을 클릭하여 \u003Cstrong\u003E반드시\u003C\u002Fstrong\u003E 깃헙(Github) 계정으로 로그인 후, 리로드 한다.\u003C\u002Fli\u003E\n\u003Cli\u003E아래처럼 렙에 필요한 이벤트스토밍 기본 모델이 출력된다.\u003C\u002Fli\u003E\n\u003Cli\u003E로딩된 모델은 우측 팔레트 영역에 스티커 목록이 나타나지 않는다. 상단 메뉴영역에서 포크 아이콘(FORK)을 클릭해 주어진 모델을 복제한다.\n\u003Cimg src=\"https:\u002F\u002Fgithub.com\u002Facmexii\u002Fdemo\u002Fassets\u002F35618409\u002F08eb03f8-c7e3-42e8-a13c-4d473de56f1a\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E우측 팔레트 영역에 스티커 목록들이 나타나는 것이 확인된다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"keycloak-토핑설정-및-코드-푸쉬\"\u003E\u003Ca href=\"#keycloak-%ED%86%A0%ED%95%91%EC%84%A4%EC%A0%95-%EB%B0%8F-%EC%BD%94%EB%93%9C-%ED%91%B8%EC%89%AC\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EKeycloak 토핑설정 및 코드 푸쉬\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E우측 상단의 \"CODE\" 버튼을 눌러 \"TOPPINGS\"를 클릭한다.\u003C\u002Fli\u003E\n\u003Cli\u003E'Oauth by Keycloak'이 체크되어 있어야 한다.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E상단의 'Push to Git' 메뉴를 클릭해 나타나는 다이얼로그 박스에서 'Create New Repository'를 선택하고, 'CREATE'를 누른다.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E초기 Github 계정으로 로그인 하였으므로, 나의 Git 정보가 자동으로 표시된다.\n\u003Cimg src=\"https:\u002F\u002Fgithub.com\u002Facmexii\u002Fdemo\u002Fassets\u002F35618409\u002F557f256e-9949-4546-bcde-d3d405f448df\" alt=\"image\"\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E모델 기반 코드가 내 Github에 푸쉬된다.\n\u003Cimg src=\"https:\u002F\u002Fgithub.com\u002Facmexii\u002Fdemo\u002Fassets\u002F35618409\u002F6581f400-adb8-4963-bf03-511d459c5e32\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E좌측 메뉴 'IDE'를 누른다음, Cloud IDE 목록에서 'Open GitPod'를 클릭한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"keycloak-server-실행\"\u003E\u003Ca href=\"#keycloak-server-%EC%8B%A4%ED%96%89\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EKeycloak Server 실행\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003ECloud IDE 터미널에서 keycloak 폴더로 이동하여 컨테이너를 생성하고 및 Keycloak 서버를 실행한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-sh\"\u003E\u003Ccode class=\"language-sh\"\u003Ecd keycloak\ndocker-compose up -d\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003EKeycloak이 사용하는 9090 포트가 목록에 나타난다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"keycloak-서버-오픈-및-접속하기\"\u003E\u003Ca href=\"#keycloak-%EC%84%9C%EB%B2%84-%EC%98%A4%ED%94%88-%EB%B0%8F-%EC%A0%91%EC%86%8D%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EKeycloak 서버 오픈 및 접속하기\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003E오른쪽 하단의 포트 목록을 눌러 keycloak이 사용하는 9090 포트를 Public으로 오픈한다. (두번째 자물쇠)\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F215235038-8e362605-75b5-4271-923d-d2c0cd3fffbf.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E첫 번째 아이콘을 클릭하여, KeyCloak의 풀 URL을 클립보드에 복사한다.\u003C\u002Fli\u003E\n\u003Cli\u003EKeycloak 마지막 브라우저 아이콘을 눌러, 웹 브라우저에서 접속해 보자.\u003C\u002Fli\u003E\n\u003Cli\u003EAdministration Console을 클릭해 설정된 관리자 정보(admin \u002F admin)로 로그인한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F190956899-9c7efca3-04ac-4f11-851c-1e199debaa02.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EKeycloak 메인 화면이 아래와 같이 출력된다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F190957013-3a6669d9-0928-498b-9529-cbac6fad8cd5.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"oauth-client-설정\"\u003E\u003Ca href=\"#oauth-client-%EC%84%A4%EC%A0%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOAuth Client 설정\u003C\u002Fh2\u003E\n\u003Ch3 id=\"keycloak-설정\"\u003E\u003Ca href=\"#keycloak-%EC%84%A4%EC%A0%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EKeycloak 설정\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EMaster Realm에서 'Tokens' 탭을 눌러 Access Token Lifespan을 1시간으로 수정한다.\u003C\u002Fli\u003E\n\u003Cli\u003E수정 후, 하단의 'Save' 를 눌러 저장한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"oauth-client-설정-1\"\u003E\u003Ca href=\"#oauth-client-%EC%84%A4%EC%A0%95-1\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOAuth Client 설정\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EKeycloak 서버의 왼쪽메뉴에서 Clients를 눌러 12stmall 을 추가한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F190959198-145da6e6-f82d-412c-843c-9f5caf47c09e.png\" alt=\"image\"\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E등록된 Client 설정에서 Access Type을 confidential로 설정한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F190959505-5adf84bf-cda5-4cd9-ba90-e8c7d806a8dc.png\" alt=\"image\"\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E아래에 있는 Valid Redirect URIs 설정에 다음과 같이 입력한다.\u003C\u002Fli\u003E\n\u003Cli\u003E규칙 : Gateway Endpoint URL + \u002Flogin\u002Foauth2\u002Fcode\u002F + ClientId(12stmall)\u003C\u002Fli\u003E\n\u003Cli\u003E오른쪽 하단의 포트목록을 눌러 keycloak이 사용하는 9090 포트의 첫번째 URL 복사 아이콘을 클릭한다.\u003C\u002Fli\u003E\n\u003Cli\u003EGitPod에서는 이처럼 포트로 시작하는 도메인 정보로 노출된다. 이 9090을 게이트웨이 포트인 8088로 바꾸자.\u003Cbr\u003E\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F191009706-1033fa72-194b-4806-b9e7-33cffcffcf42.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EValid Redirect URIs 정보는 이후 Gateway에도 추가한다.\u003C\u002Fli\u003E\n\u003Cli\u003E저장 후, Credentials 탭을 확인하면 Secret(비밀번호)이 확인되는데 이는 이후 Gateway에도 추가한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F190960454-9348d122-30d3-49b0-b63d-6389107a305e.png\" alt=\"image\"\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"gateway-client-설정\"\u003E\u003Ca href=\"#gateway-client-%EC%84%A4%EC%A0%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EGateway Client 설정\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EKeycloak Client설정에 필요한 아래 템플릿 환경정보를 설정한다.\u003C\u002Fli\u003E\n\u003Cli\u003EGateway \u003E applicaion.yml 8라인에 KeyCloak SSO 서버의 엔드포인트를 설정한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ekeycloak-client:\n  server-url: https:\u002F\u002F9090-acmexii-labshopoauthkey-sgn5ady40al.ws-us94.gitpod.io\n  realm: master\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003Eserver-url 값의 맨뒤에 \u002F 가 없도록 주의한다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cul\u003E\n\u003Cli\u003ESpring OAuth2 Security 설정을 마무리한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E  security:\n    oauth2:\n      client:\n        provider:\n          keycloak:\n            issuer-uri: ${keycloak-client.server-url}\u002Frealms\u002F${keycloak-client.realm}\n            user-name-attribute: preferred_username\n        registration:\n          keycloak:\n            client-id: &quot;&lt;client-id&gt;&quot;\n            client-secret: \n            redirect-uri: &quot;gateway-path\u002Flogin\u002Foauth2\u002Fcode\u002Fclient-name&quot;\n            authorization-grant-type: authorization_code\n            scope: openid\n      resourceserver:\n        jwt:\n          jwk-set-uri: ${keycloak-client.server-url}\u002Frealms\u002F${keycloak-client.realm}\u002Fprotocol\u002Fopenid-connect\u002Fcerts\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E51라인에 OAuth Client value인 12stmall 입력\n52라인에 KeyCloakd에 생성된 client-secret 입력\n53라인에 KeyCloakd에 설정한 redirect-uri 입력 \u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"test-user-생성\"\u003E\u003Ca href=\"#test-user-%EC%83%9D%EC%84%B1\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ETest User 생성\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EKeycloak 서버의 왼쪽 메뉴에서 Manage \u003E Users를 눌러 사용자를 등록한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F190961205-3c69d45e-2705-4ba2-af18-edbff2f57bf4.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003Euser@naver.com 으로 저장한다.\u003C\u002Fli\u003E\n\u003Cli\u003E등록한 사용자의 Credentials 탭에서 비밀번호를 설정하고, Temporary를 OFF로 한 다음 설정한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F190961449-1acc3c93-f448-42be-8b6e-dd6f4c99ac20.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cul\u003E\n\u003Cli\u003E동일한 방식으로 admin@naver.com도 생성해 두자.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"keycloak-sso-test\"\u003E\u003Ca href=\"#keycloak-sso-test\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EKeycloak SSO Test\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EGateway와 마이크로서비스를  재시작한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ecd gateway\nmvn clean spring-boot:run\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E실행된 Gateway 서비스도 외부에서 접속이 가능하도록 GitPod에서 8088 Port를 오픈한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F190962087-a82b9e08-0cde-4d28-8e10-05cd89c938ea.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E마이크로서비스를 시작한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ecd order\nmvn clean spring-boot:run\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E다음의 오류 발생시, 새 터미널에서 kafka를 시작한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003EBroker may not be available.\n2022-09-19 06:43:53.548  WARN [monolith,,,] 5204 --- [| adminclient-2] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-2] Connection to node -1 (localhost\u002F127.0.0.1:9092) could not be established. Broker may not be available.\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ecd kafka\ndocker-compose up -d\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"token-based-authentication-테스트\"\u003E\u003Ca href=\"#token-based-authentication-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EToken based Authentication 테스트\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E크롬의 Secret 창 또는 다른 브라우저(Edge, 네이버웨일)에서 Gateway를 경유하는 Order서비스에 접속해 본다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ehttps:\u002F\u002F8088-acmexii-labshopmonolith-orw1glcgvae.ws-us65.gitpod.io\u002Forders\n(Gateway URL need to be modified)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E비인가된 Resource 접근으로 Keycloak SSO 로그인 창이 나타난다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F190966067-a39781e6-87bc-47e6-9688-eea7f7f7cd86.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E관리콘솔에서 등록한 사용자(user@naver.com \u002F 1)로 인증한다.\u003C\u002Fli\u003E\n\u003Cli\u003E인증 성공 후, 주문서비스의 응답이 정상적으로 출력된다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"token-based-authorization-테스트\"\u003E\u003Ca href=\"#token-based-authorization-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EToken based Authorization 테스트\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E특정 API를 권한을 가진 사용자만 접근할 수 있도록 권한(CUSTOMER, ADMIN)을 생성한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F236124984-ce3f8568-bded-4bf8-b6cd-27baa11f0452.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E생성된 사용자에 각각 Role을 매핑한다.\u003C\u002Fli\u003E\n\u003Cli\u003EUser \u003E admin@naver.com를 선택하고, Role Mappings를 클릭한다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F236125504-a42fb63f-8c95-450c-b275-036e815a0630.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003ERealm Roles에 있는 ADMIN 권한을 Assign 한다.\u003C\u002Fli\u003E\n\u003Cli\u003E마찬가지 방법으로 user@naver.com 사용자에게 CUSTOMER 권한을 Assign 한다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"order-resouces-권한-확인\"\u003E\u003Ca href=\"#order-resouces-%EA%B6%8C%ED%95%9C-%ED%99%95%EC%9D%B8\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOrder Resouces 권한 확인\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E브라우저에서 주문 리소스에 user@naver.com 사용자로 접속해 본다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ehttps:\u002F\u002F8088-acmexii-labshopmonolith-orw1glcgvae.ws-us65.gitpod.io\u002Forders\u002FplaceOrder\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E이어서, 주문관리 리소스에 접속해 본다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ehttps:\u002F\u002F8088-acmexii-labshopmonolith-orw1glcgvae.ws-us65.gitpod.io\u002Forders\u002FmanageOrder\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003Euser@naver.com의 권한으로는 접근이 불가능하여 정제되지 않은 403 오류가 리턴된다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F236128025-33798965-23ae-4922-87a0-32435b0a2597.png\" alt=\"image\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"사용자-jwt-token-확인\"\u003E\u003Ca href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-jwt-token-%ED%99%95%EC%9D%B8\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E사용자 JWT Token 확인\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E다음 URL로 접속하여 사용자 토큰 정보를 확인하고 전체 토큰값을 복사한다. (아래 URL에서 내 Gateway 정보로 수정한다.)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Ehttps:\u002F\u002F8088-acmexii-labshopmonolith-orw1glcgvae.ws-us65.gitpod.io\u002Ftest\u002Ftoken\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fjwt.io\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ehttps:\u002F\u002Fjwt.io\u002F\u003C\u002Fa\u003E 에 접속후 나타나는 Encoded Token에 복사한 토큰을 붙여넣는다.\n\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F35618409\u002F236128936-454e2550-8c74-4dd2-b31f-39014ab856da.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EDecoded Token의 Payload에서 User Claim의 Role확인이 가능하다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n","sidebar":"started","next":"","prev":"","headings":[{"depth":1,"value":"JWT Token 기반 인증 인가","anchor":"#jwt-token-기반-인증-인가"},{"depth":2,"value":"JWT기반 인증 w\u002F Keycloak","anchor":"#jwt기반-인증-w-keycloak"},{"depth":2,"value":"이벤트스토밍 모델 준비","anchor":"#이벤트스토밍-모델-준비"},{"depth":3,"value":"Keycloak 토핑설정 및 코드 푸쉬","anchor":"#keycloak-토핑설정-및-코드-푸쉬"},{"depth":3,"value":"Keycloak Server 실행","anchor":"#keycloak-server-실행"},{"depth":4,"value":"Keycloak 서버 오픈 및 접속하기","anchor":"#keycloak-서버-오픈-및-접속하기"},{"depth":2,"value":"OAuth Client 설정","anchor":"#oauth-client-설정"},{"depth":3,"value":"Keycloak 설정","anchor":"#keycloak-설정"},{"depth":3,"value":"OAuth Client 설정","anchor":"#oauth-client-설정-1"},{"depth":3,"value":"Gateway Client 설정","anchor":"#gateway-client-설정"},{"depth":3,"value":"Test User 생성","anchor":"#test-user-생성"},{"depth":3,"value":"Keycloak SSO Test","anchor":"#keycloak-sso-test"},{"depth":2,"value":"Token based Authentication 테스트","anchor":"#token-based-authentication-테스트"},{"depth":2,"value":"Token based Authorization 테스트","anchor":"#token-based-authorization-테스트"},{"depth":3,"value":"Order Resouces 권한 확인","anchor":"#order-resouces-권한-확인"},{"depth":3,"value":"사용자 JWT Token 확인","anchor":"#사용자-jwt-token-확인"}]},"allMarkdownPage":{"edges":[{"node":{"path":"\u002Ftool\u002Fsetup-on-prem\u002F","title":"Running on Docker Compose (with Github)"}},{"node":{"path":"\u002Ftool\u002Fmarketplace\u002F","title":"템플릿\u002F토핑 마켓플레이스"}},{"node":{"path":"\u002Ftool\u002Fon-prem-inst\u002F","title":"on-prem 설치 설명서"}},{"node":{"path":"\u002Ftool\u002Finfrastructure-modeling\u002F","title":"인프라 모델링 (쿠버네티스)"}},{"node":{"path":"\u002Ftool\u002Fgoogle-drive-examples\u002F","title":"구글 드라이브 예제"}},{"node":{"path":"\u002Ftool\u002Fdevelopment-practice\u002F","title":"강의 개발 및 실습 환경"}},{"node":{"path":"\u002Ftool\u002Fcloud-ide-tool\u002F","title":"클라우드 IDE"}},{"node":{"path":"\u002Ftool\u002Fevent-storming-tool\u002F","title":"이벤트스토밍"}},{"node":{"path":"\u002Ftool\u002Fchat-gpt\u002F","title":"ChatGPT 기반 모델 생성"}},{"node":{"path":"\u002Ftool\u002Fattending-lectures\u002F","title":"Attending lectures"}},{"node":{"path":"\u002Ftemplates-language\u002Fpython-template\u002F","title":"Python Template "}},{"node":{"path":"\u002Ftemplates-language\u002Fspringboot-java-template\u002F","title":"Spring Boot\u002FJava Template(준비중)"}},{"node":{"path":"\u002Ftemplates-language\u002Fgo-template\u002F","title":"Go Template"}},{"node":{"path":"\u002Fstarted\u002Fkey-features\u002F","title":"주요 기능"}},{"node":{"path":"\u002Fstarted\u002F","title":"소개"}},{"node":{"path":"\u002Fstarted\u002Fdomain-driven\u002F","title":"도메인 주도 설계 학습"}},{"node":{"path":"\u002Fstarted\u002Fevent-storming-learning\u002F","title":"이벤트스토밍 학습"}},{"node":{"path":"\u002Foperation\u002Fops-deploy-diagramming-basic-objects\u002F","title":"12st Mall Basic Deploy"}},{"node":{"path":"\u002Foperation\u002Fops-deploy-diagramming-advanced-pvc\u002F","title":"Persistent Volume"}},{"node":{"path":"\u002Foperation\u002Fops-deploy-diagramming-advanced-ingress\u002F","title":"Ingress 배포모델 설계"}},{"node":{"path":"\u002Foperation\u002Fops-deploy-diagramming-advanced-istio\u002F","title":"Istio Mesh"}},{"node":{"path":"\u002Foperation\u002Fops-deploy-diagramming-advanced-hpa\u002F","title":"자동확장(HPA) 배포"}},{"node":{"path":"\u002Fexample-scenario\u002Flibrary-system\u002F","title":"도서관 시스템"}},{"node":{"path":"\u002Fexample-scenario\u002Fonline-lecture\u002F","title":"인터넷 강의수강 시스템"}},{"node":{"path":"\u002Fexample-scenario\u002Ffood-delivery\u002F","title":"음식배달"}},{"node":{"path":"\u002Fdevelopment\u002Funderstanding-jpa-based-single-microservice\u002F","title":"마이크로서비스 구현 및 동작원리 이해"}},{"node":{"path":"\u002Fexample-scenario\u002Fanimal-hospital\u002F","title":"동물병원 진료시스템"}},{"node":{"path":"\u002Fexample-scenario\u002Faccommodation-reservation\u002F","title":"숙소예약"}},{"node":{"path":"\u002Fdevelopment\u002Ftoken-based-auth\u002F","title":"JWT Token 기반 인증 인가"}},{"node":{"path":"\u002Fdevelopment\u002Fmonolith-2-misvc\u002F","title":"Req\u002FRes 방식의 MSA 연동 "}},{"node":{"path":"\u002Fdevelopment\u002Fpubsub-idempotency\u002F","title":"Pub\u002FSub 방식의 연동 - Choreography with Idempotency"}},{"node":{"path":"\u002Fdevelopment\u002Fpubsub-deadline\u002F","title":"Pub\u002FSub 방식의 연동 - Choreography with Deadline added"}},{"node":{"path":"\u002Fdevelopment\u002Forchestration-saga\u002F","title":"Orchestration Saga with Axon Framework"}},{"node":{"path":"\u002Fdevelopment\u002Fpub-sub\u002F","title":"Pub\u002FSub 방식의 연동 "}},{"node":{"path":"\u002Fdevelopment\u002Fkafka-connect\u002F","title":"CDC(Change Data Capture) with Kafka"}},{"node":{"path":"\u002Fdevelopment\u002Fops-docker\u002F","title":"Application Packaging with Container (Docker)"}},{"node":{"path":"\u002Fdevelopment\u002Fkafka-scaling-concurrenty-handling\u002F","title":"Kafka scaling & Concurrenty handling"}},{"node":{"path":"\u002Fdevelopment\u002Foauth2with-keycloak\u002F","title":"JWT Token 기반 인증 인가"}},{"node":{"path":"\u002Fdevelopment\u002Fkafka-scaling\u002F","title":"Kafka Scaling "}},{"node":{"path":"\u002Fdevelopment\u002Fkafka-retry-dlq\u002F","title":"Kafka Retry & Dead Letter Queue "}},{"node":{"path":"\u002Fdevelopment\u002Fkafka-basic\u002F","title":"Kafka 기본 명령어 "}},{"node":{"path":"\u002Fdevelopment\u002Fgateway\u002F","title":"API Gateway"}},{"node":{"path":"\u002Fdevelopment\u002Fdp-frontend\u002F","title":"Data Projection with Frontend and HATEOAS"}},{"node":{"path":"\u002Fdevelopment\u002Fdp-graphql\u002F","title":"Data Projection with GraphQL"}},{"node":{"path":"\u002Fdevelopment\u002Fdp-cqrs\u002F","title":"Data Projection with CQRS"}},{"node":{"path":"\u002Fdevelopment\u002Fcontract-test\u002F","title":"Contract Test (Consumer Driven Test)"}},{"node":{"path":"\u002Fdevelopment\u002Fconteact-messaging\u002F","title":"Conteact Test by Message-based CDC"}},{"node":{"path":"\u002Fdevelopment\u002Fcircuit-breaker\u002F","title":"Req\u002FRes 방식에서 장애전파 차단 - 서킷브레이커 "}},{"node":{"path":"\u002Fdevelopment\u002Fcompensation-correlation\u002F","title":"Pub\u002FSub 방식의 연동 - Compensation 과 Correlation"}},{"node":{"path":"\u002Fdevelopment\u002Fcna-start\u002F","title":"단위 마이크로 서비스의 실행 "}},{"node":{"path":"\u002Fdevelopment\u002Fchoreography-saga\u002F","title":"Choreography Saga"}},{"node":{"path":"\u002Fcustom-template\u002Funderstanding-template-structure\u002F","title":"템플릿 구조의 이해"}},{"node":{"path":"\u002Fcontact\u002Fquestion\u002F","title":"CONTACT"}},{"node":{"path":"\u002Fcustom-template\u002Funit-test\u002F","title":"Unit Test 생성 토핑(New)"}},{"node":{"path":"\u002Fcustom-template\u002Fdesigning-template-helper\u002F","title":"Built-in Helper functions"}},{"node":{"path":"\u002Fcustom-template\u002Fcreating-custom-template-2\u002F","title":"커스텀 템플릿 생성 이해하기"}},{"node":{"path":"\u002Fcustom-template\u002Ftutorial\u002F","title":"커스텀 템플릿 개념"}},{"node":{"path":"\u002Fcustom-template\u002Ftemplate-syntax\u002F","title":"Template 문법의 이해"}},{"node":{"path":"\u002Fcustom-template\u002Fmock-server\u002F","title":"Open API 3.0 기반 목 서버 생성 토핑(New)"}},{"node":{"path":"\u002Fcustom-template\u002Fcustom-template\u002F","title":"Eventstorming Template Objects"}},{"node":{"path":"\u002Fbusiness\u002Feventstorming-fooddelivery\u002F","title":"[이벤트스토밍] - DDD Food Delivery 예제"}},{"node":{"path":"\u002Fcustom-template\u002Fcreating-custom-template-1\u002F","title":"커스텀 템플릿 생성 이해하기"}},{"node":{"path":"\u002Fbusiness\u002F","title":"12번가 쇼핑몰 예제"}},{"node":{"path":"\u002Fbusiness\u002Fddd-google-drive\u002F","title":"[이벤트스토밍] - 구글 드라이브 예제"}}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.cf5748bd.js" defer></script><script src="/assets/js/page--src--templates--markdown-page-vue.253de995.js" defer></script>
  </body>
</html>
